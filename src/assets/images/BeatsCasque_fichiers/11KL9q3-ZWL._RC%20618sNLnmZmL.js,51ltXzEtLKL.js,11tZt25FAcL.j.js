(function(e){var m=window.AmazonUIPageJS||window.P,g=m._namespace||m.attributeErrors,b=g?g("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):m;b.guardFatal?b.guardFatal(e)(b,window):b.execute(function(){e(b,window)})})(function(e,m,g){e.when("A","imageBlockUtils").register("ImageBlockModel",function(b,c){function p(b,a,q,f,d,k){c.isDefined(b)&&(h.type=b);c.isDefined(a)&&(h.index=a);c.isDefined(q)&&(h.thumbnailIndex=q);c.isDefined(f)&&(h.variant=f);c.isDefined(d)&&(h.color=
d);h.shoppableScene=k||null}function l(b){p("image",0,0,"MAIN",b||a.landingAsinColor||a.defaultColor,null)}function f(a){a=a.data;d=b.copy(h);p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function k(a){f(a);a=b.copy(a);a.data=b.copy(h);n.dispatch("updateView",a)}function e(){d=b.copy(h);l(h.color)}var a,n,h={},d={},m,r;return function(c,g){n=g;a=c;n.register("updateSelection",k);n.register("updateModel",f);n.register("resetModel",e);this.init=function(){l()};this.getCurrentItem=
function(){return b.copy(h)};this.getPreviousItem=function(){return b.copy(d)};this.setCurrentEvent=function(a){m=a};this.getCurrentEvent=function(){return m};this.setImmersiveViewModalInstance=function(a){r=a};this.getImmersiveViewModalInstance=function(){return r};this.updateTitle=function(b){a.title=b};this.setToPreviousItem=function(){p(d.type,d.index,d.thumbnailIndex,d.variant,d.color,d.shoppableScene)};this.setToCurrentItem=function(a){p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});
"use strict";e.when("imageBlockUtils").register("ImageBlockState",function(b){return function(c,e,l){this.getImageHash=function(f){var k=l.getCurrentItem();f=b.getIndexForVariant(k.color,f||"MAIN",c);return b.getImageHash(k.color,f,c)};this.onImageUpdateForTwister=function(b){e.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof b&&b()})}}});"use strict";e.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",
function(b,c,e,l,f){var k={};return function(g){var a=this;a.dispatch=function(a,c){var d=k[a];l.isDefined(d)&&b.each(d,function(a,b){b.call(m,c)})};a.register=function(a,b){l.isDefined(k[a])||(k[a]=[]);"function"===typeof b&&k[a].push(b)};a.model=new c(g,a);a.view=new e(g,a,a.model);a.api=new f(g,a,a.model);a.init=function(){a.model.init();a.view.init()};a.init()}});"use strict";e.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(b,c,g,l){b=b.extend(!0,
{},g,l);var f=new c(b);e.register("ImageBlockAPI",function(){return f.api});return f})});
/* ******** */
(function(C){var r=window.AmazonUIPageJS||window.P,V=r._namespace||r.attributeErrors,l=V?V("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):r;l.guardFatal?l.guardFatal(C)(l,window):l.execute(function(){C(l,window)})})(function(C,r,V){C.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(l,a,g,ia,k,L,I){function M(c,t,e,d,m){if(!g.isjQueryObjDefined(c.find(".a-button-selected"))){var f=
u.getCurrentItem();if(!d||"chromeless-video"!==f.type||!h.autoplayVideo){d=0;"image"===f.type&&(d=Math.max(g.getIndexForVariant(f.color,f.variant,h),0));var b=0;g.isDefined(h.heroImage[f.color])&&(b=h.heroImage[f.color].length);m=d-(t>=h.maxAlts?h.maxAlts-m-b:0);t=0<=m?t+m:d+b;t>=e&&(d=0,t=b);e=g.getImageHash(f.color,d,h);-1!==e&&(z.dispatch("updateModel",{data:{index:d,thumbnailIndex:t,variant:e.variant,type:"image",shoppableScene:e.shoppableScene}}),e=c.find(".item").get(t),g.selectGivenThumbnail(a(e),
c))}}}function E(a){if(!h.useChildVideos)return g.lazyLoadingRequired(u.getCurrentItem(),u,h)?void 0:h.videos;if(h.colorToVideo[a])return h.colorToVideo[a];var c=h.colorToAsin[a];if(c&&c.asin){var e={};e.params={asin:c.asin,productGroupID:h.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:h.useChromelessVideoPlayer,isUDP:h.isUDP};h.isDPXFeatureEnabled||(e.success=function(d){videosOnTwisterRefresh(d)},ia.load(VIDEO_AJAX_ENDPOINT,e));return h.colorToVideo&&h.colorToVideo[a]}}function q(e,
t,B){if((2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment)&&B)return e;var d=E(t),m=g.isDefined(d)&&0<d.length&&h.alwaysIncludeVideo?1:0;t=h.colorImages&&h.colorImages[t];var d=e,f=0;g.isDefined(t)&&(a.each(t,function(b,d){if(f>=h.maxAlts-m&&e<h.maxAlts+h.additionalNumberOfImageAlts){if(2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment){var t=a(".thumbItemUnrolled");t[e]?t[e].querySelector("img").src=d.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
b+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(e+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(e+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(e+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+d.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else g.createThumbnail({type:"image",
index:b,thumbnailIndex:e,variant:d.variant,shoppableScene:d.shoppableScene},d.thumb,c,"imageThumbnail");e++}f++}),L.isEnabled&&I.logAltImgRequestPlacedOnThumbnails(a,L,u),M(c,d,e,B,m));return e}function G(a,c){h.useIV&&g.isDefined(c.hiRes)&&a.css("cursor","pointer")}function D(c,e){if("image"===c.type){var B=a("#image-canvas-caption #canvasCaption"),d,m=h.staticStrings,f=h.colorImages,b=c.color,p=c.index;g.isShoppableScenesEnabled()&&c.shoppableScene?d=m.clickSceneTagsToShopProducts:e&&h.useIV?d=
m.clickToExpand:f[b]&&f[b][p].hiRes&&h.useHoverZoom?(d=h.useHoverZoomIpad?m.touchToZoom:h.useClickZoom?m.clickToZoom:m.rollOverToZoom,h.hoverZoomIndicator&&(d="\x3cimg src\x3d'"+h.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+d)):h.useIV&&(d=m.clickToExpand);B.html(d)}}function J(c,e){var B="a-dynamic-image";if(!h.acEnabled){var d;a.each(c.main,function(f,b){g.isDefined(d)||(d=parseFloat(b[1]/b[0])<=parseFloat(h.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});B+=d}var m=g.getMaxDimensionsOfMainImage(c.main,
y,h),f=m[0],b=m[1],m=a("\x3cdiv\x3e\x3c/div\x3e"),f={"max-height":f,"max-width":b};m.addClass(B).css(f).attr({"data-old-hires":c.hiRes,"data-a-manual-replacement":"true",onload:e}).data("a-dynamic-image",c.main);return m}function v(g,a,c){var d="desktop-dp-atf-ib-shoppablescenes-tags-"+g;"function"==typeof uet&&uet("bb",d,{wb:1});c.attr("data-a-image-name","shoppable-scene:"+g);c=x.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
c.addClass("celwidget").attr("cel_widget_id",d);c.children("span").css("display","inline-block");z.dispatch("initialize-shoppable-scene",{index:g,shoppableScene:a.shoppableScene,imageSource:a.hiRes||a.large||a.lowRes,$tagPlaceholder:c.find(".mirai-scene-tag-placeholder"),$viewProductsButton:c.find(".mirai-scene-view-products-button")});"MutationObserver"in r&&(new MutationObserver(function(d,f){d.forEach(function(b){"childList"===b.type&&b.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===b.addedNodes.length&&"IMG"===b.addedNodes[0].tagName&&""!==b.addedNodes[0].src&&(b=b.addedNodes[0],"function"!==typeof b.onload&&(b.onload=function(){l.trigger("shoppable-scene-image-loaded",{index:g,shoppableScene:a.shoppableScene})}),f.disconnect())})})).observe(c.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",d,{wb:1});return c}function w(c,a,h){h=J(c,h);c=g.isShoppableScenesEnabled()&&c.shoppableScene?v(a,c,h):x.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
c.addClass("image item itemNo"+a+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":a+1});c.find(".placeHolder").replaceWith(h);x.find(".list").append(c);l.loadImageManually(h);return c}function H(c){var a=y.css("height");null!==a&&c.find(".imgTagWrapper").css("height",a);c.addClass("selected");h.imgTagWrapperClasses&&c.find(".imgTagWrapper").addClass(h.imgTagWrapperClasses)}function N(c,
e,B,d){if((2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment)&&!d&&"unavailable"!==c.type){c=h.colorImages&&h.colorImages[B];e=a(".unrolledImg");B=E(B);var m=g.isDefined(B)&&0<B.length&&h.alwaysIncludeVideo?1:0;e.length>h.maxAlts&&e.each(function(f){f>=h.maxAlts&&a(this).remove()});g.isDefined(c)&&a.each(c,function(f,b){f<h.maxAlts-m+h.additionalNumberOfImageAlts&&f>=h.maxAlts-m&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
(f+m+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+(f+m)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+(f+m)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
b.large+'" data-a-hires\x3d"'+b.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))})}else if("image"===c.type||"unavailable"===c.type||"lazy-loaded"===c.type){B=g.getImageHash(c.color,c.index,h);if(-1===B)return e={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},g.lazyLoadingRequired(c,u,h)||(z.dispatch("updateModel",e),g.showUnavailable(c.color)),-1;d=x.find(".item.itemNo"+c.thumbnailIndex);g.isjQueryObjDefined(d)||
(d=w(B,c.thumbnailIndex,e));H(d);z.dispatch("loadMagnifier");D(c);G(d,B);l.trigger("dp:image-block:update",B)}}function n(c){var a=u.getCurrentItem().color;h.colorImages[a]||(h.colorImages[a]=c);c={type:"updatedData",data:u.getCurrentItem()};z.dispatch("updateView",c);(a=h.colorToAsin[a])&&a.asin&&C.register(g.rankedImagesReadyEvent(a.asin))}function e(){var c=x.find(".item .imgTagWrapper"),e=g.getContainerHeight(y,h.holderRatio,h.holderMaxHeight);0<e&&(y.height(e),c.height(e));x.find("img.a-dynamic-image").each(function(){var c=
a(this);c.data("a-manual-replacement")&&l.loadDynamicImage(this);var d=c.data("a-dynamic-image"),d=g.getMaxDimensionsOfMainImage(d,y,h);c.css({"max-height":d[0]+"px","max-width":d[1]+"px"})})}function B(c){D(u.getCurrentItem(),"mouseenter"===c.type)}var R,h,u,z,c,x,y,T;return function(k,t,D,d){R=this;h=k;u=t;z=d;l.on("triggerImageAjax",n);h.colorImages[h.landingAsinColor]=h.colorImages[h.defaultColor];R.render=function(d,f,b,e,B,F,S){x=b;c=e;y=B;T=q(f,d,F);F||(f=u.getCurrentItem(),g.lazyLoadingRequired(f,
u,h)&&z.dispatch("updateModel",{data:{type:"lazy-loaded"}}));f=u.getCurrentItem();b=!F;g.lazyLoadingRequired(f,u,h)||(a("#imageBlock").css("opacity","1"),x.css("opacity","1"),g.spinner(x,!1),x.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),g.hideUnavailable(),b&&x.find(".list .item").remove());N(u.getCurrentItem(),S,d,F);return T};R.update=function(d){};h.overrideAltImageClickAction&&g.addTag("clickEnabledOnAltImages");z.register("imageHover",B);z.register("resize",
e)}});"use strict";C.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(l,a,g){var r,k,L,I;return function(a,E,q,G){r=this;k=a;L=G;r.render=function(a,q,v,w,G,N,n){I=w;r=this;v=k.maxAlts;w=q;G=k.colorImages[a]?k.colorImages[a].length:0;G+=g.getVideosCount(a,k);a=k.heroImage[a];N=0;a&&(N=a.length);a=G+N;a>v&&(v=a-v,a=I.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),v+="+",w={type:"ingress",index:0,
thumbnailIndex:q,variant:""},a.find("#altIngressText").append(v),l.declarative.create(a,"thumb-action",w),I.append(a),w=q++);return w};r.update=function(a){"ingress"===a.data.type&&"click"===a.type&&L.dispatch("imageClick",a)}}});"use strict";C.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(l,a,g,r){function k(e,n,h,u){if(!g.isjQueryObjDefined(e.find(".a-button-selected"))){var z=w.getCurrentItem();if(!u||"chromeless-video"!==z.type||!v.autoplayVideo){u=
0;if("hero-image"===z.type){u=I(z.color,z.variant);if(-1===u)return;u=-1!==u?u:0}var c=n+u;c>=h&&(u=0,c=n);n=r.getHeroImageHash(v,z.color,u);-1!==n&&(H.dispatch("updateModel",{data:{index:u,thumbnailIndex:c,variant:n.variant,type:"hero-image"}}),n=e.find(".item").get(c),g.selectGivenThumbnail(a(n),e))}}}function L(e,n,h){if("hero-video"===w.getCurrentItem().type)return e;n=v.heroImage&&v.heroImage[n];var u=e;g.isDefined(n)&&(a.each(n,function(a,c){e<v.maxAlts&&(g.createThumbnail({type:"hero-image",
index:a,thumbnailIndex:e,variant:c.variant},c.thumb,N,"imageThumbnail"),e++)}),k(N,u,e,h));return e}function I(e,n){var h=v.heroImage;if(1>h.length||!g.isDefined(h[e])||!g.isDefined(n))return-1;var u=-1;a.each(h[e],function(a,c){c.variant===n&&(u=a)});return u}function M(){if(n.length&&v.repositionHeroImage){var a=r.getHeroDimParams(v,w.getCurrentItem()),e;g.isDefined(a)&&(e=g.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+a.yPos+"px ",n.css({"background-position":e,"background-size":a.width+
"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""}))}}function E(a,e,h,u){if(n.length&&a&&e){if("function"===typeof h||u){var k=new Image;k.onload=u?function(){n.css("background-image",'url("'+a+'")')}:h;k.src=a}h=e[1];var k=e[0],c;u||n.css({"background-image":'url("'+a+'")'});v.repositionHeroImage&&(e=r.getHeroDimParams(v,w.getCurrentItem(),e),g.isDefined(e)&&(h=e.width,k=e.height,c=g.isDefined(e.xPos)?e.xPos+"px "+e.yPos+"px ":"center "+e.yPos+
"px "));n.css({"background-position":c,"background-size":h+"px "+k+"px ","max-width":h+"px ","min-height":k+"px ",filter:"","-ms-filter":""})}}function q(e,g,h,n){e=r.getHeroImageHash(v,e,g);if(-1===e)return-1;g=a.map(e.main,function(a,c){return c})[0];E(g,e.main[g],h,n)}function G(a,e,g){if("hero-image"!==a.type)return-1;var n=I(a.color,w.getCurrentItem().variant),n=-1!==n?n:0;if(-1===r.getHeroImageHash(v,a.color,n))return-1;var k=w.getCurrentItem();a.thumbnailIndex=k.thumbnailIndex;a.type=k.type;
a.variant=k.variant;a.index=n;D(a,e,g)}function D(a,g,h){var k=r.getHeroImageHash(v,a.color,a.index),z;z=a&&e&&l.equals(a,e)?!0:!1;e||(e=a);if(!z&&a||g)q(a.color,a.index,g,h),e=a;n.removeClass("hide-background");l.trigger("dp:image-block:update",k)}var J,v,w,H,N,n,e={};return function(e,k,h,l){J=this;v=e;w=k;H=l;v.heroImage[v.landingAsinColor]=v.heroImage[v.defaultColor];J.render=function(e,c,g,h,k,l,t){N=h;n=a("#heroImage");e=L(c,e,l);G(w.getCurrentItem(),t,l);return e};J.update=function(a){var c=
a.data;"ingress"!==c.type&&n.addClass("hide-background");"swatchHover"===a.type?a.captured||(c.type=w.getCurrentItem().type,-1!==G(c)&&(a.captured=!0)):"hero-image"===c.type&&(D(c),"click"!==a.type&&v.usePeekHover||g.selectGivenThumbnail(a.$declarativeParent,N))};H.register("resize",M)}});"use strict";C.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(l,a,g,C,k,L){function I(a){N?a.css("cursor","url('"+D.staticImages.zoomIn+
"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in"))}function M(a){var e=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(g.isDefined(e))for(var e=e[1].split("_"),k=0;k<e.length;k++){var l=e[k].match(/^([A-Z]+)(\d+(\.\d+)?)$/);g.isDefined(l)&&(a[l[1]]=parseInt(l[2],10))}return a}function E(n,e){function B(){var a;e.useClickZoom?(a=e.offsetInClickZoom,a=[Math.min(1,Math.max(0,d[0]-(f[0]+a))/(f[2]-2*a)),Math.min(1,Math.max(0,d[1]-(f[1]+a))/(f[3]-
2*a))]):a=A&&A.updatePosition();if(a&&t&&t.detailSize){var b=[t.detailSize[0]-t.rect.width,t.detailSize[1]-t.rect.height];l.capabilities.rtl?t.detailImage.get(0).style.right=-(a[0]*b[0])+"px":t.detailImage.get(0).style.left=-(a[0]*b[0])+"px";t.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function q(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function h(f){var b=S?f.originalEvent.touches[0]||f.originalEvent.changedTouches[0]:"";d=S?[b.pageX,b.pageY]:[f.pageX,f.pageY];if(l.capabilities.rtl){var c=
a(r).width();d=S?[c-b.pageX,b.pageY]:[c-f.pageX,f.pageY]}}function u(a){S&&a.preventDefault();h(a);e.useClickZoom?a=[f[0],f[1],f[0]+f[2],f[1]+f[3]]:(a=A?A.offset:n.offsetParent().offset(),a=D.acEnabled?[a.left,a.top,w.width()+a.left,w.height()+a.top]:[m[0]+a.left,m[1]+a.top,m[0]+m[2]+a.left,m[1]+m[3]+a.top]);d[0]<a[0]||d[1]<a[1]||d[0]>=a[2]||d[1]>=a[3]||D.acEnabled&&!q(n)?(e.fadeMagnifier?Q||(Q=!0,J=setTimeout(function(){v(!0)},500)):e.useClickZoom||v(),E&&(E=!1,clearTimeout(H))):(E||(E=!0,H=setTimeout(function(){C.postCountMetric("dppc_hoverZoomOpened");
k.isEnabled&&L.logHoverZoomRequestServed(k)},1E3)),e.fadeMagnifier&&Q&&(Q=!1,clearTimeout(J)),B())}function v(f){f&&y.suppressMagnifier(!0);if(p&&(t&&t.hide(),A&&(A.destroy(),A=null),p=!1,S?(n.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),x(),f))n.one("click.magnifier touchstart.magnifier",function(a){c(a,!0)})}function c(b,d){d&&y.suppressMagnifier(!1);if(!p&&
!O&&(0===K&&(C.postCountMetric("dppc_hoverTime",new Date-(r.ue&&r.ue.t0||0)),K=1),ea[F]||(C.postCountMetric("dppc_hoverMain"),ea[F]=1),m=[n.position().left,n.position().top,n.width(),n.height()],F&&(h(b),t?t.refit().show():t=new ba,e.useClickZoom||(A=A||new P),f=t.getWindowSize(),B()),p=!0,S?(n.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",u).bind("touchend.magnifier",v),a(document).trigger("engaged.magnifier")):(D.acEnabled?w.unbind("mousemove.magnifier"):n.unbind("mousemove.magnifier"),
a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",u)),d)){var c=a("#zoomWindow");if(0<c.length)c.one("click.magnifier touchend.magnifier",function(a){v(!0)})}}function x(){e.useHoverZoom&&(S?n.bind("touchstart.magnifier touchmove.magnifier",c):D.acEnabled?q(n)&&w.bind("mousemove.magnifier",c):n.bind("mousemove.magnifier",c))}var y=this,w=n.offsetParent(),G={detailImageUrl:n.attr("data-old-hires"),location:"over",locationElement:n,prelaod:"ready",zIndex:50,offsetInClickZoom:50};e=
a.extend(G,e);e.adjustment=[10,0,-10,0];var t=null,A=null,d=null,m=null,f=null,b={"null":1,"":1,undefined:1},p=!1,O=!1,F=e.detailImageUrl,S=e.useHoverZoomIpad||0,K=0,ea={},P=function(){function f(a){var b=Math.round(Math.min(n.width(),t.rect.width/a));a=Math.round(Math.min(n.height(),t.rect.height/a));p.css({width:b,height:a});c=[b,a]}var b=this,c=[0,0],g=(t.detailSize&&t.detailSize[0]||5E8)/m[2],F=(t.detailSize&&t.detailSize[1]||5E8)/m[3],g=F>g?F:g;a("#magnifierLens").remove();var p=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});
e.generalImageUrls.zoomLensBackground&&p.css({backgroundImage:"url("+e.generalImageUrls.zoomLensBackground+")"});D.showMagnifierOnHover?I(p):p.css("cursor","pointer");b.updatePosition=function(){var a=[m[2]-c[0],m[3]-c[1]],f=0>=a[0]?.5:Math.max(0,Math.min(1,(d[0]-c[0]/2-m[0]-b.offset.left)/a[0])),e=0>=a[1]?.5:Math.max(0,Math.min(1,(d[1]-c[1]/2-m[1]-b.offset.top)/a[1])),g=m[0]+Math.round(f*a[0]),a=m[1]+Math.round(e*a[1]);p.get(0).style.left=g+"px";p.get(0).style.top=a+"px";return[f,e]};b.destroy=function(){p.remove()};
b.offset=n.offsetParent().offset();f(g);b.updatePosition();p.appendTo(n.parent());t.detailImage[0].complete||t.detailImage.load(function(){var a=t.detailImage.width()/m[2];f(a);b.updatePosition()})};P.preload=function(){y.preload(e.generalImageUrls.lensBackgroundUrl)};var ba=function(){function f(){var b={};if("over"===e.location){var b=e.useClickZoom,F={},p=a("#leftCol"),m=a("#centerCol"),P=a("#rightCol"),la=a("#hover-zoom-end"),S=a("#actionPanelContainer"),K=g.isjQueryObjDefined(p)?p.outerHeight():
m.outerHeight();F.top=g.isjQueryObjDefined(p)?p.offset().top:m.offset().top;F.bottom=K+F.top;F.right=g.isjQueryObjDefined(P)?P.offset().left:S.offset().left;F.left=b?0:p.offset().left+p.outerWidth();g.isjQueryObjDefined(la)&&la.offset().top>F.bottom&&(F.bottom=la.offset().top);b=F}else"right"===e.location&&(b=n.offset(),b={left:b.left+n.outerWidth(),top:b.top,right:b.left+n.outerWidth()+400,bottom:b.top+400});e.minHeightElement&&(b.bottom=Math.max(b.bottom,b.top+a(e.minHeightElement).outerHeight()));
b.bottom=Math.min(b.bottom,a(r).scrollTop()+a(r).height());b.left+=d[0];b.top+=d[1];b.right+=d[2];b.bottom+=d[3];b.width=b.right-b.left;b.height=b.bottom-b.top;e.enhancedHoverOverlay&&g.isDefined(r.pageXOffset)&&(F=a(r).width(),b.width=F-b.left+r.pageXOffset-18,b.height-=14);h.css({left:b.left,top:b.top,width:b.width,height:b.height});c.rect=b;return c}function b(a){var f=new Image;c.detailSize=[0,0];f.onload=function(){c.detailSize=[f.width,f.height];B()};f.src=a.attr("src");if(0<f.width&&0<f.height)c.detailSize=
[f.width,f.height];else if(e.detailImageSize)c.detailSize=e.detailImageSize;else{a=M(f.src);var d=m[2]/m[3];a.SS||a.AA?(a=a.SS||a.AA,c.detailSize=[a,a]):a.SX?c.detailSize=[a.SX,Math.round(a.SX/d)]:a.SY?c.detailSize=[Math.round(a.SY*d),a.SY]:a.SL&&(c.detailSize=1<=d?[a.SL,Math.round(a.SL/d)]:[Math.round(a.SL*d),a.SL])}}var c=this,d=e.adjustment;a("#zoomWindow").remove();var p={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:e.zIndex};e.enhancedHoverOverlay&&(p.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",
p.border="1px solid #949494",p.borderColor="rgb(148,148,148)");var h=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(p);e.fadeMagnifier&&h.fadeIn(200);e.useClickZoom&&(N?h.css("cursor",'url("'+e.zoomOutIcon+'"), auto'):(h.css("cursor","-webkit-zoom-out"),h.css("cursor","-moz-zoom-out"),h.css("cursor","zoom-out")));c.updateImage=function(f){f=a("\x3cimg id\x3d'detailImg' src\x3d'"+f+"'/\x3e").css("position","absolute");c.detailImage&&c.detailImage.remove();h.append(f);a(document).trigger("updated.magnifier");
c.detailImage=f;b(c.detailImage)};c.refit=function(){f();b(c.detailImage);return c};e.fadeMagnifier?(c.show=function(){h.fadeIn(200);return c},c.hide=function(){h.fadeOut(200);return c}):(c.show=function(){h.show();return c},c.hide=function(){h.hide();return c});c.destroy=function(){h.remove();return c};c.getWindowSize=function(){return[c.rect.left,c.rect.top,c.rect.width,c.rect.height]};c.updateImage(F);f();h.appendTo(document.body)},Q=!1,J,E=!1,H;y.preload=function(f){f=a.makeArray(f);for(var c=
f.length,d=0;d<c;d++)f[d]instanceof Array?y.preload(f[d]):"string"===typeof f[d]&&f[d]&&!b[f[d]]&&(b[f[d]]=new Image,b[f[d]].src=f[d])};y.changeImage=function(f,b){p&&v();F=b;n.attr("src",f);y.preload(f);m=[n.position().left,n.position().top,n.width(),n.height()];b&&("immediately"===e.preload?y.preload(b,!0):a(r).ready(function(){y.preload(b)}),t?t.updateImage(b):n.attr("data-old-hires",b))};y.destroy=function(){D.acEnabled?w.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):
n.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");A&&A.destroy();A=null;t&&t.destroy();t=null};y.detailImage=function(){return t.detailImage};y.suppressMagnifier=function(a){O=a};y.isEngaged=function(){return p};y.engageMagnifier=c;y.disengageMagnifier=v;n[0].complete?x():n.one("load",x);y.preload(n.attr("src"));r.performance&&performance.now&&r.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(e.preload){var Z=
e.detailImageUrl,G=function(){y.preload(Z,!0);e.useClickZoom||P.preload()},U=e.preload;U.constructor!==Array&&(U=[U]);for(var aa=0;aa<U.length;aa++)if("immediately"===U[aa])G();else if(a(r)[U[aa]])a(r)[U[aa]](G);else a(r).bind(U[aa],G)}return y}function q(){if(D.useHoverZoom){var n={adjustment:[0,0,1,1],generalImageUrls:D.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:D.useHoverZoomIpad,useHoverZoom:D.useHoverZoom,useClickZoom:D.useClickZoom,
fadeMagnifier:D.fadeMagnifier,zoomOutIcon:D.staticImages.zoomOutCur,enhancedHoverOverlay:D.enhancedHoverOverlay||D.atfEnhancedHoverOverlay};w&&(w.destroy(),w=V);var e=H.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");g.isjQueryObjDefined(e)?D.useClickZoom?(e.one("click.loadmagnifier touchstart.loadmagnifier",function(a){w=new E(e,n);w.engageMagnifier(a,!0)}),N?e.css("cursor",'url("'+D.staticImages.zoomInCur+'"), auto'):(e.css("cursor","-webkit-zoom-in"),
e.css("cursor","-moz-zoom-in"),e.css("cursor","zoom-in"))):w=new E(e,n):k.isEnabled&&L.logHoverZoomApplicability(a,k)}}var G,D,J,v,w,H,N=navigator.userAgent.match(/msie|trident/i);return function(a,e,g,l){G=this;D=a;J=e;k.refToModel=J;v=l;G.render=function(a,e,g,c,n,k){H=g;w&&(w.destroy(),w=V)};G.update=function(a){};v.register("loadMagnifier",q);v.register("resize",q)}});"use strict";C.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(l,a,g,C){function k(a,
k,l){a=(a=l?l:g.getColorFromState(k.getState().hovered_variations,M))&&""!==a?a:M.defaultColor;q.dispatch("updateView",{type:"swatchHover",data:{color:a}});C.postCountMetric("swatchHover")}function L(a,k,l,v){a=(a=v?v:g.getColorFromState(k.getState().selected_variations,M))&&""!==a?a:M.defaultColor;a===E.getCurrentItem().color?"function"===typeof l&&l():(q.dispatch("updateSelection",{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===
typeof r.markFeatureRender&&r.markFeatureRender("imageblock",a);l()}}),C.postCountMetric("swatchClick"))}var I,M,E,q;return function(a,g,r,v){I=this;M=a;E=g;q=v;l.on("image-block-twister-swatch-hover",k);l.on("image-block-twister-swatch-click",L);I.render=function(a,g,k,n,e){};I.update=function(a){}}});"use strict";C.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(l,a,g,ia,k,L,I){function M(f,
b,d,e){if(!g.isjQueryObjDefined(f.find(".a-button-selected"))){var p=x.getCurrentItem();if(!e||"chromeless-video"!==p.type||!c.autoplayVideo)if(e=0,"image"===p.type&&(e=Math.max(D(p.color,p.variant),0)),!(p.thumbnailIndex>=c.maxAlts&&0!=e)){var h=b+e;h>=d&&(e=0,h=b);b=g.getImageHash(p.color,e,c);-1!==b&&(y.dispatch("updateModel",{data:{index:e,thumbnailIndex:h,variant:b.variant,type:"image",shoppableScene:b.shoppableScene}}),b=f.find(".item").get(h),g.selectGivenThumbnail(a(b),f))}}}function E(f,
b,d){if((2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment)&&d)return f;var e=c.colorImages&&c.colorImages[b];b=f;2!==c.unrolledImageBlockTreatment&&3!==c.unrolledImageBlockTreatment||a(".thumbItemUnrolled").each(function(f){(!a(this)[0].classList.contains("thumbTypeimage")||f>=e.length||f>=c.maxAlts)&&a(this).remove()});g.isDefined(e)&&(a.each(e,function(b,d){if(f<c.maxAlts)if(2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment){f++;var p=a(".thumbItemUnrolled");
p[b]?p[b].querySelector("img").src=d.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+b+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+f+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+f+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+f+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+
d.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else{var p={type:"image",index:b,thumbnailIndex:f,variant:d.variant,shoppableScene:d.shoppableScene},h=g.createThumbnail(p,d.thumb,t,"imageThumbnail");c.collapsibleThumbnails&&g.updateImageThumbnailOverlay(h,p,e);f++}}),L.isEnabled&&I.logAltImgRequestPlacedOnThumbnails(a,L,x),M(t,b,f,d));return f}function q(a,f){c.useIV&&g.isDefined(f.hiRes)&&a.css("cursor","pointer")}function G(f,
b){if("image"===f.type){var d=a("#image-canvas-caption #canvasCaption"),e,p=c.staticStrings,h=c.colorImages,m=f.color,k=f.index;g.isShoppableScenesEnabled()&&f.shoppableScene?e=p.clickSceneTagsToShopProducts:b&&c.useIV?e=p.clickToExpand:h[m]&&h[m][k].hiRes&&c.useHoverZoom?(e=c.useHoverZoomIpad?p.touchToZoom:c.useClickZoom?p.clickToZoom:p.rollOverToZoom,c.hoverZoomIndicator&&(e="\x3cimg src\x3d'"+c.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+e)):c.useIV&&(e=p.clickToExpand);d.html(e)}}function D(a,
f){return g.getIndexForVariant(a,f,c)}function J(a,f,b){var d=f.thumbnailIndex,e=c.colorToAsin[f.color]&&c.colorToAsin[f.color].asin;f="altImageHover"===b&&m&&m.altImageIdx===d&&m.asin===e&&"swatchClick"===m.event?!0:"swatchHover"===b?m&&m.asin===e&&m.event===b:m&&m.altImageIdx===d&&m.asin===e&&m.event===b;if(!f){var g="#",h=a.find(".imgTagWrapper img").get(0);h&&(g=h.src);a=new Image;a.onload=function(){if(h){h.src=g;var a=h.width,f=h.height,c=h.naturalWidth,F=h.naturalHeight;try{var m=(Math.abs(a/
c*F-f)/f).toFixed(2);.01<m&&(r.ue&&((("landing"!==b||p||O)&&"swatchClick"!==b||r.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===b||"swatchClick"===b)?r.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==b||O?"altImageHover"!==b||p||(r.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),p=!0):(r.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),O=!0)),r.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},
r.ueLogError("swatchHover"===b?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+e+" Event:"+b+" Diff:"+m.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+e+" at altImageIdx "+d+" Event:"+b+" Diff:"+m.toString()+"]"},a)))}catch(k){r.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},r.ueLogError(k,a))}}};"#"!==g&&(a.src=g);m.altImageIdx=d;m.asin=e;m.event=b}}function v(f,b){var e="a-dynamic-image";if(!c.acEnabled){var p;
a.each(f.main,function(a,f){g.isDefined(p)||(p=parseFloat(f[1]/f[0])<=parseFloat(c.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});e+=p}var h=g.getMaxDimensionsOfMainImage(f.main,d,c),m=h[0],k=h[1],h=a("\x3cdiv\x3e\x3c/div\x3e"),m={"max-height":m,"max-width":k};h.addClass(e).css(m).attr({"data-old-hires":f.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",f.main);return h}function w(a,f,b){var c="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&
uet("bb",c,{wb:1});b.attr("data-a-image-name","shoppable-scene:"+a);b=A.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");b.addClass("celwidget").attr("cel_widget_id",c);b.children("span").css("display","inline-block");y.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:f.shoppableScene,imageSource:f.hiRes||f.large||f.lowRes,$tagPlaceholder:b.find(".mirai-scene-tag-placeholder"),$viewProductsButton:b.find(".mirai-scene-view-products-button")});
"MutationObserver"in r&&(new MutationObserver(function(b,c){b.forEach(function(b){"childList"===b.type&&b.target.classList.contains("mirai-scene-image-block-tag-container")&&1===b.addedNodes.length&&"IMG"===b.addedNodes[0].tagName&&""!==b.addedNodes[0].src&&(b=b.addedNodes[0],"function"!==typeof b.onload&&(b.onload=function(){l.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:f.shoppableScene})}),c.disconnect())})})).observe(b.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,
childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",c,{wb:1});return b}function H(a,f,b){b=v(a,b);a=g.isShoppableScenesEnabled()&&a.shoppableScene?w(f,a,b):A.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");a.addClass("image item itemNo"+f+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":f+1});a.find(".placeHolder").replaceWith(b);A.find(".list").append(a);
l.loadImageManually(b);l.trigger("dp:image-block:imageBlockImageLoad",f);return a}function N(a){var f=d.css("height");null!==f&&a.find(".imgTagWrapper").css("height",f);a.addClass("selected");c.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(c.imgTagWrapperClasses)}function n(a){if(a.isUserGenerated){var f=x.getPreviousItem(),b=a.variant;g.isDefined(b)&&f.thumbnailIndex!==a.thumbnailIndex&&(L.isEnabled&&I.logAltImgRequestServed(L),k.postCountMetric("ImageThumbnailSelectedVariant:"+b),0===
b.indexOf("IG")&&(k.postCountMetric("IGImageSelectedVariant:"+b),k.postCountMetric("IGImageSelectedEvent:"+a.interaction)))}}function e(f,b,d,e){if((2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment)&&!e&&"unavailable"!==f.type){if(f=c.colorImages&&c.colorImages[d],a(".unrolledImg").each(function(f){a(this).remove()}),g.isDefined(f)&&(a.each(f,function(f,b){if(f<c.maxAlts){var d=a(".unrolledImg");d[f]?a(".unrolledImg #unrolledImgNo"+f+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+
b.large+'" data-a-hires\x3d"'+b.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):f>=d.length&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(f+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+f+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
f+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+b.large+'" data-a-hires\x3d"'+b.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))}}),l.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img")),d=g.isDefined(b)))k.postCountMetric("mainImageUpdateOnTwisterVariationClick"),
b()}else if("image"===f.type||"unavailable"===f.type||"lazy-loaded"===f.type){(d=g.isDefined(b))&&k.postCountMetric("mainImageUpdateOnTwisterVariationClick");e=g.getImageHash(f.color,f.index,c);if(-1===e)return b={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},g.lazyLoadingRequired(f,x,c)||(y.dispatch("updateModel",b),g.showUnavailable(f.color)),-1;var h=A.find(".item.itemNo"+f.thumbnailIndex);g.isjQueryObjDefined(h)||(h=H(e,f.thumbnailIndex,b),d?(O=p=!1,J(h,f,"swatchClick")):J(h,
f,"altImageHover"));N(h);y.dispatch("loadMagnifier");G(f);q(h,e);n(f);l.trigger("dp:image-block:update",e)}}function B(a){var f=Math.max(D(a.color,x.getCurrentItem().variant),0),f=g.getImageHash(a.color,f,c);if(-1===f)return g.lazyLoadingRequired(a,x,c)||g.showUnavailable(a.color),-1;var b=A.find(".swatchHoverExp"),d=v(f);b.find(".imgTagWrapper").html(d);l.loadImageManually(d);k.postCountMetric("mainImageUpdateOnTwisterVariationHover");N(b);J(b,a,"swatchHover");l.trigger("dp:image-block:update",f)}
function R(f,b){g.lazyLoadingRequired(f,x,c)||(a("#imageBlock").css("opacity","1"),A.css("opacity","1"),g.spinner(A,!1),A.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),g.hideUnavailable(),b&&A.find(".list .item").remove())}function h(){var f=A.find(".item .imgTagWrapper"),b=g.getContainerHeight(d,c.holderRatio,c.holderMaxHeight);0<b&&(d.height(b),f.height(b));A.find("img.a-dynamic-image").each(function(){var f=a(this);f.data("a-manual-replacement")&&l.loadDynamicImage(this);
var b=f.data("a-dynamic-image"),b=g.getMaxDimensionsOfMainImage(b,d,c);f.css({"max-height":b[0]+"px","max-width":b[1]+"px"})})}function u(a){G(x.getCurrentItem(),"mouseenter"===a.type)}var z,c,x,y,T,W,t,A,d,m={},f,b=null,p=!1,O=!1;l.on("triggerImageAjax",function(a){var f=x.getCurrentItem().color;c.colorImages[f]||(c.colorImages[f]=a);a={type:"updatedData",data:x.getCurrentItem()};y.dispatch("updateView",a);(f=c.colorToAsin[f])&&f.asin&&C.register(g.rankedImagesReadyEvent(f.asin))});return function(p,
m,n,l){z=this;c=p;x=m;y=l;c.colorImages[c.landingAsinColor]=c.colorImages[c.defaultColor];z.render=function(p,h,m,k,n,l,F,O){A=2!==c.unrolledImageBlockTreatment&&3!==c.unrolledImageBlockTreatment?m:a(".unrolledScrollBox");t=k;d=n;f=E(h,p,l);l?0===h&&J(A.find(".item.itemNo0"),x.getCurrentItem(),"landing"):(h=x.getCurrentItem(),g.lazyLoadingRequired(h,x,c)&&y.dispatch("updateModel",{data:{type:"lazy-loaded"}}));R(x.getCurrentItem(),!l);2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment?
"swatchClick"===O&&c&&c.colorImages?(b=c.colorImages[p],e(x.getCurrentItem(),F,p,l)):"updatedData"===O&&c&&c.colorImages&&c.colorImages[p]!==b&&(b=c.colorImages[p],e(x.getCurrentItem(),F,p,l)):e(x.getCurrentItem(),F,p,l);return f};g.isImageBlockGridViewHoverDelayEnabled()?z.update=function(a){var b=a.data;x.setCurrentEvent(a);"ingress"!==b.type&&"swatchHover"!==a.type&&(x.setToPreviousItem(),"mouseenter"===a.type?(W&&clearTimeout(W),W=setTimeout(function(){x.setToCurrentItem(b);R(a.data,!1)},g.getHoveringDelayTimer())):
"mouseleave"===a.type?W&&clearTimeout(W):"click"===a.type&&(x.setToCurrentItem(b),R(a.data,!1)));"swatchHover"===a.type?("ingress"!==b.type&&R(a.data,!1),b.color===x.getCurrentItem().color?e(x.getCurrentItem(),null,b.color,!0):a.captured||-1===B(b)||(a.captured=!0)):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,"mouseenter"===a.type?(k.postCountMetric("dpcc_imageThumbHovered_"+(b.thumbnailIndex+1)+"_"+f),T&&clearTimeout(T),T=setTimeout(function(){e(b,null,b.color,!0);c.usePeekHover||
g.selectGivenThumbnail(a.$declarativeParent,t)},g.getHoveringDelayTimer())):"mouseleave"===a.type?T&&clearTimeout(T):"click"===a.type&&(e(b,null,b.color,!0),g.selectGivenThumbnail(a.$declarativeParent,t),k.postCountMetric("dpcc_imageThumbClicked_total"),k.postCountMetric("dpcc_imageThumbClicked_"+(b.thumbnailIndex+1)+"_"+f)))}:z.update=function(a){var b=a.data;x.setCurrentEvent(a);"ingress"!==b.type&&R(a.data,!1);"swatchHover"===a.type?b.color===x.getCurrentItem().color?e(x.getCurrentItem(),null,
b.color,!0):a.captured||-1===B(b)||(a.captured=!0):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,"mouseenter"===a.type&&k.postCountMetric("dpcc_imageThumbHovered_"+(b.thumbnailIndex+1)+"_"+f),e(b,null,b.color,!0),c.usePeekHover&&"click"!==a.type||(g.selectGivenThumbnail(a.$declarativeParent,t),"click"===a.type&&(k.postCountMetric("dpcc_imageThumbClicked_total"),k.postCountMetric("dpcc_imageThumbClicked_"+(b.thumbnailIndex+1)+"_"+f))))};c.overrideAltImageClickAction&&g.addTag("clickEnabledOnAltImages");
y.register("imageHover",u);y.register("resize",h)}});C.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(l,a,g,r){function k(g,k){var e=a("\x3cimg src\x3d'"+(k?v.staticImages.shoppableSceneDotHighlighted:v.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");e.css({display:k?"none":"inline-block"});e.addClass("mirai-scene-tag").addClass(k?"active-tag":"inactive-tag");return e}function L(g){var n=a("\x3cspan\x3e");l.each(g.tags,function(e){var g=a("\x3cdiv\x3e").css({position:"absolute",
left:100*e.left+"%",top:100*e.top+"%",height:"auto",width:"auto"});g.append(k(e,!1));g.append(k(e,!0));g.bind("mouseenter",function(){I(a(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});l.declarative.create(g,"scenes-show-details-tags-ib",{tagId:e.link});n.append(g)});return n.children()}function I(a){a.addClass("mirai-scene-dot-pulsate");l.delay(function(){a.removeClass("mirai-scene-dot-pulsate")},4E3)}function M(a,g){a.css({display:"none"});g.css({display:"inline-block"})}function E(a,
g,e){a.eq(e).css({display:"inline-block"});g.eq(e).css({display:"none"})}function q(a){C.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){l.trigger("mirai:scene-details-change",{physicalId:a})})}function G(){var g=a("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),k=a("\x3cimg class\x3d'item-tag'\x3e").attr("src",v.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),e=a("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");
e.html(v.staticStrings.shoppableSceneViewProductsButton);return g.append(k).append(e)[0].outerHTML}function D(a){function g(){a.$tagPlaceholder.replaceWith(k);var c=k.find(".mirai-scene-tag.active-tag"),e=k.find(".mirai-scene-tag.inactive-tag");E(c,e,0);I(k.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));H=!0;a.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+a.index,{wb:1});w=!0;r.postCountMetric("miraiShoppableScenes_imageLoadedCount")}
if(a.shoppableScene){var e=a.$viewProductsButton.find(".a-button-text");if(0===e.children().length){e.append(G());l.declarative.create(a.$viewProductsButton,"scenes-show-details-view-products-ib",{tagId:a.shoppableScene.tags[0].link});var k=L(a.shoppableScene),q=k.find(".mirai-scene-tag.active-tag"),h=k.find(".mirai-scene-tag.inactive-tag"),u=a.shoppableScene.physicalId,w=!1;l.on("mirai:index:change",function(a){a.scenePhysicalId===u&&(a=a.selectedIndices[0],M(q,h),E(q,h,a),I(k.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(a)),
H=!0)});l.on("mirai:scene-details-change",function(a){a.physicalId!==u||H||(M(q,h),E(q,h,0),I(k.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),H=!0)});l.on("mirai:no-products-active",function(a){a.scenePhysicalId===u&&M(q,h)});l.on("mirai:set-first-product-active",function(a){a.scenePhysicalId===u&&(M(q,h),E(q,h,0))});l.on("a:image:load:shoppable-scene:"+a.index,function(){w||(g(),r.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});l.on("shoppable-scene-image-loaded",
function(c){c.index!=a.index||w||(g(),r.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});C.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",function(){l.trigger("mirai:scene-side-sheet-init",{icons:v.staticImages,strings:v.staticStrings});l.trigger("mirai:scene-details-init",{scene:a.shoppableScene,imageSource:a.imageSource})})}}}var J,v,w,H=!1;return function(a,k,e,l){J=this;v=a;w=l;g.isShoppableScenesEnabled()?(w.register("initialize-shoppable-scene",
D),J.render=function(a,e,g,k,c,l,n){},J.update=function(a){"mouseenter"===a.type&&(a.data.shoppableScene?q(a.data.shoppableScene.physicalId):H=!1)}):(a=function(){},J.render=a,J.update=a)}});C.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}});"use strict";C.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(l,a,g,C,k,L,I,M,E){function q(a){return null!==
a&&"undefined"!==typeof a}function G(f){var b=0;a.each(f,function(a,f){var d=parseInt(f[1],10);d>b&&(b=d)});return b}function D(f){var b=0;a.each(f,function(a,f){var d=parseInt(f[0],10);d>b&&(b=d)});return b}function J(a,b,d){b=b.width();if(d.naturalMainImageSize)return b;a=G(a);0<a&&(b=Math.min(b,a));return b}function v(a,b,d){b=b.height();if(d.naturalMainImageSize)return b;a=D(a);0<a&&(b=Math.min(b,a));return b}function w(f){var b;a.each(f,function(a,f){q(b)||(b=f[1]/f[0])});return b||1}function H(f,
b,d,c,e,h,k,m,l,t,q,u,r,v,w){var z=a.extend({},d.foresterMetadataParams);null!==c&&(z.method+="."+c);var A=[];b.disabledViewIds&&(A=b.disabledViewIds);w=w&&w.videoBackgroundChromefulMainView?w.videoBackgroundChromefulMainView:"black";"unrolled-video-add"===v&&(w="transparent");return g.embed({parentElement:f[0],streamingUrls:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,swfUrl:d.swfUrl,foresterMetadataParams:z,backgroundColor:w,flashParams:{wmode:"transparent"},
slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl},videoAds:d.videoAds,bindings:{play:function(){if("ImmersiveView"===c)x||(x=!0,C.postCountMetric("dppc_chromefulVideoPlayedIV"));else if(y||(y=!0,C.postCountMetric("dppc_chromefulVideoPlayedPV")),!t){var a=C.buildNexusMetric("ib.thumbnailClick",l,b.mediaObjectId,b.groupType,q,u,r);C.emitNexusMetric(a)}}},cuePoints:[{values:b.durationSeconds-1,type:"position",callback:function(a,b,f){e&&(N(0,h,m),n(k))}}],disabledViewIds:A})}function N(a,
b,d){b.fadeTo(500,0,function(){e(a,d);b.fadeTo(500,1)})}function n(a){a&&a.toggle()}function e(f,b){var d=b.find("img");q(d[f])&&a(d[f]).click()}function B(a,b){t[a]=b?b:t[a];return t[a]}function R(f,b,d){d=d||W;d=d.colorImages;if(1>d.length||!q(d[f])||!q(b))return-1;var c=-1;a.each(d[f],function(a,f){f.variant===b&&(c=a)});return c}function h(f,b,d){d=d||W;d=d.colorImages;return!(q(d)&&q(d[f])&&q(d[f][b])&&q(d[f][b].main))||1>a.map(d[f][b].main,function(a,b){return b}).length?-1:d[f][b]}function u(a,
b,d,c){c.parent().css("z-index",2);0!==d&&0!==b&&(b/=d,a>b?c.css("width",b/a*100+"%"):c.css("height",a/b*100+"%"))}function z(f,b){var d;if(d=f.useIV)d=f.colorImages&&f.colorImages[b]&&0<f.colorImages[b].length?!0:!1;I.isEnabled&&(I.IVApplicaple=d,M.logImmersiveViewApplicability(a,I));return d}function c(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length||0<a(".gridImageBlockViewLayoutIn1x7").length}var x,y,T,W=a.extend(!0,{},k,L),t={},A=0,d=0,m=/gridAltImageViewLayoutIn(\d+)x(\d+)/g;
return{isDefined:q,isDefinedAndEmpty:function(a){return q(a)&&"object"===typeof a&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return q(a)?"object"===typeof a&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return q(a)?"object"===typeof a&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:w,getMaxHeightOfMainImage:v,getMaxWidthOfMainImage:J,getMaxDimensionsOfMainImage:function(a,b,d){if(d.acEnabled)return[b.height(),b.width()];
var c=v(a,b,d);b=J(a,b,d);a=w(a);d=b/a;b=Math.min(b,c*a);c=Math.min(c,d);return[c,b]},getContainerHeight:function(a,b,d){var c=a.get(0);a=0;if(q(c)){a=c.offsetWidth/b;a=Math.min(a,d);var e;b=W.mainImageHeightPartitions;d=W.mainImageMaxSizes;if(q(d)&&q(b)){for(var g=0,h=r.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c=0;c<b.length;c++)h>b[c]&&(g=c+1);d.length>=g&&(e=d[g])}q(e)&&(a=Math.min(e[1],a))}return a},getColorFromState:function(f,b){if(f){b=b||W;var d="";a.each(b.visualDimensions,
function(a,b){f[b]&&(d+=" "+f[b])});return d&&d.substring(1)}},createThumbnail:function(a,b,d,e){var g=d.find(".template").clone().removeClass("template").addClass("item"),h=document.createElement("img");h.src=b;g.find(".placeHolder").replaceWith(h);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&g.addClass("heroImageThumbnail");q(e)&&g.addClass(e);c()&&g&&(e=document.createElement("div"),e.className="imageBlockThumbnailImageGrayOverlay",h.parentNode.insertBefore(e,h));l.declarative.create(g,
"thumb-action",a);g.attr&&(g.attr("data-ux-click",""),a.type&&a.type.match(/video/)?(g.attr("data-csa-c-type","uxElement"),g.attr("data-csa-c-element-type","navigational"),g.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(g.attr("data-csa-c-type","uxElement"),g.attr("data-csa-c-element-type","navigational"),g.attr("data-csa-c-action","image-block-alt-image-hover")),g.attr("data-csa-c-posy",a.thumbnailIndex+1));d.append(g);return g},updateImageThumbnailOverlay:function(a,
b,d){a.find(".textMoreImages").append(d.length-b.thumbnailIndex+"+")},selectGivenThumbnail:function(a,b){var d=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");d.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,b,d,c,e,g,h,k){H(a,b,d,c,e,g,h,k,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:H,loadMediaIntoAiry:function(a,b,d,c){a&&a.getMediaSourceInfo()!==b.url&&(c?a.loadMedia?
(T={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(T)):a.play({videoUrl:b.url,imageUrl:b.slateUrl,mimeType:"video/mp4",contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"}):a.loadMedia?a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):a.setInitialData({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId,imageUrl:b.slateUrl}))},
showUnavailable:function(d){d&&(a("#imageBlock .unvailableVariation").html(d),a("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:N,toggleVideoCaption:n,selectThumbnail:e,spinner:function(d,b){var c=a("#imageBlock .a-spinner").parent();0===c.length&&(c=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),d.append(c),c.css({position:"absolute",left:"50%",
top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));b?c.show():c.hide();return c},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:B,getIndexForVariant:R,getImageHash:h,lazyLoadingRequired:function(a,b,d){b=Math.max(R(a.color,b.getCurrentItem().variant,d),0);b=-1!==h(a.color,
b,d);a=d.colorToAsin[a.color]&&d.colorToAsin[a.color].asin;a=!a||"success"!==B(a);return!d.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:u,repositionVideoBanner:function(a,b,d,c){setTimeout(function(){var d=a.width()/a.height();u(d,16,9,b)},c||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,d){if(d.useChildVideos){if(!q(d.colorToVideo))return-1;
a=d.colorToVideo[a]}else a=d.videos;return q(a)&&q(a[b])&&q(a[b].url)?a[b]:-1},isImmersiveViewEnabled:z,playVideoInImmersiveView:function(a,b){return z(a,b)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return q(T)?T.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,d){return{requester:"DetailPageTablet",marketplaceID:d.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:d.languageCode,page:"DetailPageTablet",
placement:"ImageBlock",metadata:{shouldPreload:!1},video:{videoURL:d.url,imageURL:d.slateUrl}}},addTag:function(a){r.ue&&r.ue.tag&&r.ue.tag(a)},isShoppableScenesEnabled:function(){return E.isEnabled&&0<a(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:c,isImageBlockGridViewHoverDelayEnabled:function(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return A},updateThumbnailHoverDelay:function(a){if(q(a)){A=
0;var b=a.closest("li"),b=b.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(b);if(-1!==b){var c;c=d;a=a.closest("ul").attr("class");a===V?c=!1:(a=m.exec(a),null===a||3!==a.length?c=!1:(a=a[2],c=Math.floor(c/a)>Math.floor(b/a)));c&&(A=100);d=b}}},logError:function(a,b,d,c){r.ueLogError&&r.ueLogError(c,{logLevel:a,attribution:b,message:d})}}});"use strict";C.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",
function(l,a,g,ia,k,L){function I(b,c,e,h){!d.autoplayVideo||ka||d.useChromelessVideoPlayer?!g.isjQueryObjDefined(b.find(".a-button-selected"))&&(e=m.getCurrentItem(),!h||d.prioritizeVideos||"chromeless-video"===e.type&&d.autoplayVideo)&&(h=g.getVideoHash(e.color,0,d),-1===h||e.thumbnailIndex>=d.maxAlts-1||(c+=0,f.dispatch("updateModel",{data:{index:0,thumbnailIndex:c,variant:h.variant,type:d.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),c=b.find(".item").get(c),g.selectGivenThumbnail(a(c),
b))):(g.selectGivenThumbnail(b.find("img:last"),b),g.fadeToThumbnail(b.find("img").length-1,F,b))}function M(a){var b=m.getCurrentItem().color;if(d.useChildVideos&&!d.colorToVideo[b]){var c=function(){if(a){d.colorToVideo[b]=a;var c={type:"updatedData",data:m.getCurrentItem()};f.dispatch("updateView",c)}};d.lazyLoadExperienceDisabled?c():C.when(g.rankedImagesReadyEvent(d.colorToAsin[b].asin)).execute(function(){c()})}}function E(a){try{C.register(a,function(){return!0})}catch(b){g.logError("ERROR",
"vse_ns_desktop","[registerLoadVideoAssets]",b)}}function q(a){var b=!1;C.now(a).execute(function(a){b=!!a});return b}function G(a){a&&(d.notShowVideoCount=a,a={type:"updatedData",data:m.getCurrentItem()},f.dispatch("updateView",a))}function D(a){if(!d.useChildVideos)return g.lazyLoadingRequired(m.getCurrentItem(),m,d)?void 0:d.videos;if(d.colorToVideo[a])return d.colorToVideo[a];var b=d.colorToAsin[a];if(b&&b.asin){var c={};c.params={asin:b.asin,productGroupID:d.productGroupID,useAiryVideoPlayer:!0,
useChromelessVideoPlayer:d.useChromelessVideoPlayer,isUDP:d.isUDP};d.isDPXFeatureEnabled||(c.success=function(a){M(a)},ia.load("/gp/product/features/apparel-main-image/videos.html",c));return d.colorToVideo&&d.colorToVideo[a]}}function J(a){K&&null===a&&2!==d.unrolledImageBlockTreatment&&3!==d.unrolledImageBlockTreatment&&(K.hide(),p.parent().css("z-index",-1),O.hide())}function v(a,b,c){b=F.width()/F.height();var f=parseInt(a.videoWidth,10),e=parseInt(a.videoHeight,10);g.updateAspectRatio(b,f,e,
p);if(K&&"unrolled-video-add"!==c)K.show(),g.loadMediaIntoAiry(K,a,ea,d.tabletWeb);else if(d.tabletWeb)K=Q;else{if("unrolled-video-add"===c){K=Q;return}if(null===Q||Q===V)Y=setInterval(function(){K=Q;K!==V&&null!==K&&(K.show(),g.loadMediaIntoAiry(K,a,ea,d.tabletWeb),w(),B(K),clearInterval(Y),Y=null)},500);else if(K=Q,K!==V&&null!==K){K.show();g.loadMediaIntoAiry(K,a,ea,d.tabletWeb);w();B(K);return}}w();B(K)}function w(){if(2!==d.unrolledImageBlockTreatment&&3!==d.unrolledImageBlockTreatment)if(g.useTabbedImmersiveView(d)){if(1<
g.getVideosCount(m.getCurrentItem().color,d)){if(g.isDefined(S)){O.show();return}S=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(d.staticStrings.watchMoreVideos);O.find("#videoCaption").append(S);l.declarative.create(S,"videoIngressClick",P)}g.playVideoInImmersiveView(d,m.getCurrentItem().color)&&(l.declarative.create(p,"videoIngressClick",P),p.attr&&p.attr("data-ux-click",""),p.children().css("z-index","-1"),p.css("display","inline-block"))}else O.find("#videoCaption").text(d.staticStrings.playVideo),
O.show()}function H(a,b){if("chromeful-video"===a.type||"chromeless-video"===a.type||"unrolled-video-add"===b){var c=g.getVideoHash(a.color,a.index,d);if(-1===c)return-1;"chromeful-video"===a.type&&v(c,a.thumbnailIndex+1,b)}}function N(c,f,h){if((2===d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment)&&h)return c;var m=D(f);f=c;var p=a(".unrolledImg"),y=g.isDefined(m)&&0<m.length&&d.alwaysIncludeVideo?1:0;g.isDefined(m)&&0<m.length&&!d.alwaysIncludeVideo&&c===d.maxAlts&&k.postCountMetric("IBVideoDrop");
p.length>d.maxAlts&&p.each(function(b){b>=d.maxAlts&&a(this).remove()});y&&c===d.maxAlts&&(2===d.unrolledImageBlockTreatment||3==d.unrolledImageBlockTreatment?(a(".thumbItemUnrolled").last().remove(),a(".unrolledImg").last().remove()):b.find(".item:last").remove(),c--);g.isDefined(m)&&(a.each(m,function(f,h){if(c<d.maxAlts){if(2===d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment){var l=d.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";a('\x3cli class\x3d"thumbItemUnrolled thumbType'+
l+" thumbIndex"+f+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+c+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+c+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+c+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+h.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a("ul.regularAltImageViewLayout"));
a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+c+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+c+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+
c+'" class\x3d"videoIndex'+f+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"));d.dp60InLastPositionUnrolledImageBlock||2!==d.dp60VideoPosition||n(a(".regularAltImageViewLayout"),d.dp60VideoPosition)}else{var l=d.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",p={type:l,index:f,thumbnailIndex:c,variant:h.variant};P={type:"video-ingress",index:f,thumbnailIndex:c,variant:h.variant};g.useTabbedImmersiveView(d)&&("chromeful-video"===
l&&(fa+=" videoBlockIngress  videoBlockDarkIngress",h.thumb=h.thumb.replace("_PKmb-play-button-overlay-thumb","")),d.altsOnLeft||(fa+=" a-align-top"));g.isImageBlockGridViewDisplayEnabled()&&(fa+=" videoImageBlockGridView");g.createThumbnail(p,h.thumb,b,fa);2===d.dp60VideoPosition&&n(b,d.dp60VideoPosition);if(g.useTabbedImmersiveView(d)){e(b.find(".videoBlockIngress img"),d.videoIngressATFSlateThumbURL);var p=1<m.length?"multiple-videos":"one-video",y=!0===d.notShowVideoCount?d.staticStrings.multipleVideos:
1<m.length?m.length+" "+d.staticStrings.multipleVideos:d.staticStrings.singleVideo;y&&b.find(".videoBlockIngress").append(b.find("#videoCount_template").clone().text(y).attr("id","videoCount")).addClass(p)}p=k.buildNexusMetric("ib.thumbnailRender",c+1,h.mediaObjectId,h.groupType,da,X,ca,Z);k.emitNexusMetric(p);ma||(ma=!0,k.postCountMetric("chromeless-video"===l?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}c++}if(g.useTabbedImmersiveView(d))return!1}),I(b,f,c,h),x(T),d.imageBlockRenderingStartTime&&
k.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",l.now()-d.imageBlockRenderingStartTime));return c}function n(b,c){if(0!==c)if(2===d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment){var f=d.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",e=b.children(".thumbTypeimage"),f=b.children(".thumbType"+f);e&&f&&e[c-1]&&a(e[c-1]).before(f[0]);f=a(".unrolledScrollBox .list-unrolled");e=f.children(".unrolledImg.imgMedia");f=f.children(".unrolledImg.videoMedia");e&&
f&&e[c-1]&&a(e[c-1]).before(f[0]);a(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(b){for(var d=null,c=0;c<this.classList.length;c++)this.classList[c].includes("itemNo")&&(d=c);null!==d&&a(this).removeClass(this.classList[d]).addClass("itemNo"+b);this.querySelectorAll("div")[1].id="unrolledImgNo"+b})}else e=b.children(".imageThumbnail"),f=b.children(".videoBlockIngress"),e&&f&&e[c-1]&&a(e[c-1]).before(f[0])}function e(a,b){var d=a.attr("src");if(d&&b){a.attr("src",b);
var c=new Image;c.onload=function(b){a.attr("src",d)};c.src=d}}function B(a){d.autoplayVideo&&a&&!ka&&(g.toggleVideoCaption(O),a.setVolume(0),a.show(),a.play(),ka=!0)}function R(b){K&&K.pause();b.data=P;b.clickTimeStamp=b.$event.timeStamp;var c="a"===b.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";f.dispatch("imageClick",b);k.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp);b=k.buildNexusMetric("ib.thumbnailClick",b.data.thumbnailIndex+1,d.videos[0].mediaObjectId,d.videos[0].groupType,
da,X,ca,Z);k.emitNexusMetric(b);k.postCountMetric(c);a("#main-video-container .vjs-control-bar").css("display","none");a("#main-video-container .vjs-poster").css("display","inline-block")}function h(b){null!==K&&K!==V&&(K.frame&&K.frame.remove(),K=null,Q.frame&&Q.frame.remove(),Q=null);Q=b.player;a("#main-video-container .vse-airy-container.vse-player-container").css("min-width","auto");Q.hide=function(){Q.pause();l.$("#main-video-container").find(".vse-player-container").hide()};Q.show=function(){l.$("#main-video-container").find(".vse-player-container").show()};
Q.getMediaSourceInfo=function(){return g.getMediaSourceInfo()}}function u(b,c,f,e,h,k){J(k);p=null!==k?a("#unrolledImgNo"+k.thumbnailIndex):e.find("#main-video-container");O=null!==k?"":p.parent().find("#video-canvas-caption");F=null!==k?a(".unrolledScrollBox"):a("#main-image-container");null===k&&g.isImageBlockGridViewDisplayEnabled()&&(p.addClass("videoCenter"),e.find("#video-outer-container").addClass("videoWrapperCenter"));da=r.location.href;b=m.getCurrentItem().color;!0===h?X=d.mediaAsin:(X=
d.colorToAsin[b]&&d.colorToAsin[b].asin,X=g.isDefined(X)?X:d.mediaAsin);d.useChromelessVideoPlayer||p.addClass("chromeful-container");null!==k?H(k,"unrolled-video-add"):H(m.getCurrentItem(),"");g.useTabbedImmersiveView(d)&&l.declarative("videoIngressClick",["click"],R);if(-1!==n&&null!==k){b=m.getCurrentItem().color;var n=g.getVideoHash(b,k.index,d),y=function(){l.$("#unrolledImgNo"+k.thumbnailIndex).find(".vse-player-container").show()},t=function(){l.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()},
q={requester:"MediaBlockSoftlines",marketplaceID:n.marketPlaceID,clientPrefix:"mbSoftlines"+k.thumbnailIndex,locale:n.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:n.url,imageURL:n.slateUrl}};2!==d.unrolledImageBlockTreatment&&3!==d.unrolledImageBlockTreatment?C.when("load-video-assets").execute("VSEPLayerAjaxCall",function(){L.get(l,"#unrolledImgNo"+k.thumbnailIndex,q,y,t)}):L.get(l,"#unrolledImgNo"+k.thumbnailIndex,
q,y,t)}}function z(a,d){function c(a){a=Math.floor((b.width()-1)/h);a=f?a-1:a;d.slice(a).hide();d.slice(0,a).show();d.removeClass("overlayRestOfImages");a<d.length&&d.eq(a-1).addClass("overlayRestOfImages")}var f=0!=b.find(".item.videoThumbnail").length,e=d.eq(0).width(),g=d.eq(1).position().left-d.eq(0).position().left-e,h=e+g;c();a.register("resize",c)}function c(a){var d=b.find(".item.imageThumbnail");if(!(1>=d.length)){var c=d.eq(0).find("img").get(0);c!==V&&c.decode().then(function(){z(a,d)})}}
function x(a){try{if(!a)return!1;na=a;ha=document.querySelectorAll("#imageBlock #altImages ul li.videoThumbnail");a={root:null,rootMargin:"0%",threshold:.75};null!==ja&&ja.disconnect();0<ha.length&&(ja=new IntersectionObserver(y,a));ha.forEach(function(a){ja.observe(a)})}catch(b){k.postCountMetric("ib_dsktp_thumb_impr_intersection_obs_failed")}}function y(a){na(a,qa,oa,ha,pa)}function T(b,d,c,f,e){try{a.each(b,function(b,e){var g=a(f).index(e.target);e.isIntersecting?(d=d.slice(),d.push(g)):d=d.filter(function(a){return a!==
g});c=d.sort(function(a,b){return a-b})});var g=W(c,e);if(0!==g.length&&0!==c.length){var h=m.getCurrentItem().color,l=D(h);t(l,g)}}catch(n){k.postCountMetric("ib_dsktp_thumbnail_on_intersection_failed")}}function W(a,b){var d=a.slice().filter(function(a){return 0>b.indexOf(a)});return b=d}function t(b,d){try{if(!b||!d||0===b.length||0===d.length)return!1;a.each(d,function(a,d){var c=1===ha.length?b[0]:b[d];c&&(c=k.buildNexusMetric("ib.thumbnailImpression",a+1,c.mediaObjectId,c.groupType,r.location.href,
X,ca,Z),k.emitNexusMetric(c))})}catch(c){k.postCountMetric("ib_dsktp_thumbnail_impression_failed")}}var A,d,m,f,b,p,O,F,S,K,ea,P,ba,Q,X,da,ca,Z,U,aa,ga,ma=!1,ka=!1,fa="videoThumbnail",Y=null,ja=null,oa,pa=[],ha,qa=[],na=null;return function(e,n,y,r){A=this;d=e;m=n;f=r;ea=d.airyConfig;ca=d.contentWeblab&&d.contentWeblab+":"+d.contentWeblabTreatment;d.colorToVideo={};d.colorToVideo[d.landingAsinColor]=d.colorToVideo[d.defaultColor]=d.videos;d.tabletWeb?(U="tablet",Z="applicationType.ImageBlock.vse_ib_tablet_web"):
l.capabilities.tablet?(U="tablet",l.capabilities.isAmazonApp&&(Z="applicationType.ImageBlock.vse_ib_tablet_app")):(U="desktop",Z="desktop_web.ImageBlock.vse_ib_iv");A.render=function(e,h,k,n,y,t){null!==Y&&(clearInterval(Y),Y=null,p.parent().css("z-index",-1),O.hide());var q=[];if(2===d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment){b=a("ul.regularAltImageViewLayout");ba=N(h,e,t);q=[];h=a(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||
this.classList.contains("thumbTypechromeless-video")});for(var r=0;r<h.length;r++){var v=h[r].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",w=Number(h[r].classList[2].slice(10)),x=a(".thumbItemUnrolled").index(h[r]);q.push({color:e,thumbnailIndex:x,type:v,varient:"MAIN",index:w})}for(r=0;r<q.length;r++)u(e,k,n,y,t,q[r])}else if(b=n,ba=N(h,e,t),u(e,k,n,y,t,null),e=m.getCurrentItem().color,k=g.getVideoHash(e,0,d),-1!==k){var z=function(){l.$("#main-video-container").find(".vse-player-container").hide()},
A=function(){l.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()},B=d.tabletWeb?g.getNilgiriServiceAjaxRequest(d,e,k):{requester:"MediaBlockSoftlines",marketplaceID:k.marketPlaceID,clientPrefix:"mbSoftlines",locale:k.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:k.url,imageURL:k.slateUrl}};2!==d.unrolledImageBlockTreatment&&3!==d.unrolledImageBlockTreatment?C.when("load-video-assets").execute("VSEPLayerAjaxCall",
function(){L.get(l,"#main-video-container",B,z,A)}):L.get(l,"#main-video-container",B,z,A)}d.collapsibleThumbnails&&c(f);return ba};A.setupIntersectionObserverToWatchVideoThumbnail=x;A.emitMultipleImpressionMetric=t;g.isImageBlockGridViewHoverDelayEnabled()?A.update=function(a){null!==Y&&(clearInterval(Y),Y=null,p.parent().css("z-index",-1),O.hide());var c=a.data;"ingress"===c.type||"swatchHover"===a.type||g.lazyLoadingRequired(c,m,d)||(m.setToPreviousItem(),"mouseenter"===a.type?(ga&&clearTimeout(ga),
ga=setTimeout(function(){m.setToCurrentItem(c);J(null)},g.getHoveringDelayTimer())):"mouseleave"===a.type?ga&&clearTimeout(ga):"click"===a.type&&(m.setToCurrentItem(c),J(null)));if("swatchHover"===a.type)"ingress"===c.type||g.lazyLoadingRequired(c,m,d)||J(null),c.color===m.getCurrentItem().color?H(m.getCurrentItem(),""):a.captured||g.lazyLoadingRequired(c,m,d)&&!g.lazyLoadOnHoverEnabled(d)&&H(m.getCurrentItem(),"");else if("chromeful-video"===c.type||"chromeless-video"===c.type){var e=g.getVideoHash(c.color,
c.index,d);"mouseenter"===a.type?(q("load-video-assets")||E("load-video-assets"),k.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+ba),"chromeless-video"===c.type&&(e=k.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,e.mediaObjectId,e.groupType,da,X,ca,Z),k.emitNexusMetric(e)),aa&&clearTimeout(aa),aa=setTimeout(function(){H(c,"");!d.usePeekHover&&l.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&g.selectGivenThumbnail(a.$declarativeParent,b)},g.getHoveringDelayTimer())):
"mouseleave"===a.type?aa&&clearTimeout(aa):"click"===a.type&&(q("load-video-assets")||E("load-video-assets"),H(c,""),l.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&(g.selectGivenThumbnail(a.$declarativeParent,b),e=k.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,e.mediaObjectId,e.groupType,da,X,ca,Z),(!g.useTabbedImmersiveView(d)&&"chromeless-video"===c.type||"tablet"==U)&&k.emitNexusMetric(e),g.useTabbedImmersiveView(d)&&(k.emitNexusMetric(e),k.postCountMetric("dpcc_videoThumbClicked_"+
(c.thumbnailIndex+1)+"_"+ba),P.action="videoIngressClick",P.clickTimeStamp=a.$event.timeStamp,P.$event=a.$event,P.$currentTarget=a.$currentTarget,f.dispatch("videoIngressClick",P),k.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}}:A.update=function(a){null!==Y&&(clearInterval(Y),Y=null,p.parent().css("z-index",-1),O.hide());var c=a.data;"ingress"===c.type||g.lazyLoadingRequired(c,m,d)||J(null);if("swatchHover"===a.type)q("load-video-assets")||E("load-video-assets"),c.color===m.getCurrentItem().color?
H(m.getCurrentItem(),""):a.captured||g.lazyLoadingRequired(c,m,d)&&!g.lazyLoadOnHoverEnabled(d)&&H(m.getCurrentItem(),"");else if("chromeful-video"===c.type||"chromeless-video"===c.type){var e=g.getVideoHash(c.color,c.index,d);if("mouseenter"===a.type&&(q("load-video-assets")||E("load-video-assets"),k.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+ba),"chromeless-video"===c.type)){var h=k.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,e.mediaObjectId,e.groupType,da,X,
ca,Z);k.emitNexusMetric(h)}H(c,"");d.usePeekHover&&"click"!==a.type||!l.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")||(g.selectGivenThumbnail(a.$declarativeParent,b),"click"===a.type&&(q("load-video-assets")||E("load-video-assets"),e=k.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,e.mediaObjectId,e.groupType,da,X,ca,Z),(!g.useTabbedImmersiveView(d)&&"chromeless-video"===c.type||"tablet"==U)&&k.emitNexusMetric(e),g.useTabbedImmersiveView(d)&&(k.emitNexusMetric(e),k.postCountMetric("dpcc_videoThumbClicked_"+
(c.thumbnailIndex+1)+"_"+ba),P.action="videoIngressClick",P.clickTimeStamp=a.$event.timeStamp,P.$event=a.$event,P.$currentTarget=a.$currentTarget,f.dispatch("videoIngressClick",P),k.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}};d.isDPXFeatureEnabled&&(l.on("triggerVideoAjax",M),l.on("notShowVideoCountAjax",G));l.on("vsePlayer-imageblock_tablet",h);l.on("vsePlayer-mbsoftlines",h)}});"use strict";C.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(l,a){function g(a,
g,I,M,E){function q(a){"click"===a.type&&M.postCountMetric("thumbClick");"click"===a.type&&u.overrideAltImageClickAction?z.dispatch("thumbActionClick",a):z.dispatch("updateSelection",a)}function G(a){u.useClickZoom||z.dispatch("imageClick",a)}function D(a){u.useClickZoom||z.dispatch("imageHover",a)}function J(a){z.dispatch("button360Click",a)}function v(e){!I.isDefined(e)||"swatchClick"!==e.type&&"updatedData"!==e.type?(h.update(e),"swatchHover"!==e.type&&c.getPreviousItem().thumbnailIndex!==e.data.thumbnailIndex&&
M.postCountMetric(e.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",e.data)):(h.render(e.data.color,!1,e.onload,e.type),e={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof r.markFeatureRender&&r.markFeatureRender("imageblock",e))}function w(a){z.dispatch("resize",a)}function H(a){I.selectThumbnail(a,x)}function N(){"function"===typeof r.markFeatureInteractive&&r.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",
events:["click"],alwaysInteractive:!0}]})}function n(){u.interactiveCallJSPEnabled||("function"===typeof r.markFeatureInteractive&&r.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]}),1===l.useIV?C.when("a-modal").execute(function(){N()}):N());u.disableHoverOnAltImages||a.declarative("thumb-action",["mouseenter","mouseleave"],q);a.declarative("thumb-action",["click"],
q);a.declarative("main-image-click",["click"],G);a.declarative("main-image-click",["mouseenter","mouseleave"],D);a.declarative("button-360-click",["click"],J);a.on("resize",w)}function e(a){var c=a.data,e;c&&"ingress"!==c.type&&"click"===a.type&&(e=a);return e}function B(a){var e=c.getCurrentItem(),g={type:"click"};g.$declarativeParent=a;g.data=e;return g}function R(a){I.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===a.type&&I.updateThumbnailHoverDelay(a.$target)}var h,u,z,c,x;return function(a,
k,l){h=this;u=a;z=k;c=l;x=g("#imageBlock #altImages ul");var t=g("#imageBlock .canvas"),q=g("#main-image-container"),d;h.subViews=[];for(k=0;k<E.length;k++)h.subViews.push(new E[k](a,l,h,z));h.render=function(a,e,b,k){var l=0;x.find(".item").remove();a=a||c.getCurrentItem().color;g.each(h.subViews,function(c,d){l=(2===u.unrolledImageBlockTreatment||3===u.unrolledImageBlockTreatment?d.render(a,l,t,x,q,e,b,k):d.render(a,l,t,x,q,e,b))||l});var n=x.find(".a-button-selected").closest(".a-declarative");
d=B(n)};h.init=function(){x=g("#imageBlock #altImages ul");var a=x.find(".a-button-selected").closest(".a-declarative"),c=a.data("action"),a=a.data(c)||{};a.color=u.landingAsinColor||u.defaultColor;z.dispatch("updateModel",{data:a});h.render(a.color,!0);u.isDebug&&r.console&&console.log(u);z.register("updateView",v);z.register("selectThumbnail",H);n()};h.update=function(a){R(a);g.each(h.subViews,function(c,b){b.update(a)});u.usePeekHover&&("mouseleave"===a.type?z.dispatch("updateSelection",d):"click"===
a.type&&(d=e(a)||d))}}}var V=["A","jQuery","imageBlockUtils","postMetric"].concat(l.views);C.when.apply(C,V).register("ImageBlockView",function(){for(var a=arguments[0],l=arguments[1],r=arguments[2],C=arguments[3],E=[],q=4,G=arguments.length;q<G;q++)E.push(arguments[q]);return g(a,l,r,C,E)})})});
/* ******** */
(function(B){var q=window.AmazonUIPageJS||window.P,sa=q._namespace||q.attributeErrors,c=sa?sa("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):q;c.guardFatal?c.guardFatal(B)(c,window):c.execute(function(){B(c,window)})})(function(B,q,sa){B.when("A","jQuery").register("ImageBlockImmersiveViewDimensionIngress",function(c,b){var a;return function(b,c,fa,n){a=this;a.render=function(){};a.update=function(){}}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric",
"imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(c,b,a,C,e){function fa(){e.populateTitle(f.find("#ivTitle"),160,I)}function n(){var b=p.getCurrentItem().color;D=I.colorImages[b];z=I.heroImage[b];w=E=0;a.isDefined(z)&&(w=z.length);a.isDefined(D)&&(E=D.length)}function t(a){return a.hiRes||a.large||a.main[a.main.length-1]}function q(){var a=f.find("#ivStage").find("#ivLargeImage"),b=a.width(),c=a.height(),e=a.find(".fullscreen");e.removeAttr("style");var p=e.width(),
l=e.height();0<e.length&&(e[0].naturalWidth&&(p=e[0].naturalWidth),e[0].naturalHeight&&(l=e[0].naturalHeight));a.css("cursor","auto");var p=0===p?1:p,l=0===l?1:l,n=Math.min(b/p,c/l),w=l*n,z=p*n;1>n?(y?a.css("cursor","url('"+I.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),k=!0):k=!1;p=Math.min(z,p);l=Math.min(w-20,l);e.css({"margin-top":(c-l)/2,"margin-left":(b-p)/2,height:l,width:p});a.css("visibility","visible");J=!1}
function B(a){var b=f.find("#ivLargeImage");b.css("visibility","hidden");b.empty();e.animateStageIn(b);b.append(a);q()}function R(p){f.find("#ivLargeImage").css("display","none");f.find("#ivLargeImage").css("display","block");var k;"hero-image"===p?a.isDefined(z)&&(k=t(z[x.index])):a.isDefined(D)&&(k=t(D[x.index]));if(a.isDefined(k)){f.find(".fullscreen").remove();var l=b("\x3cimg\x3e").attr("src",k).addClass("fullscreen"),n=f.find("#ivLargeImage");e.animateStageOut(n,function(){l.load(function(){B(l);
c.trigger("dp:image-block:imageBlockImmersiveImageLoad",x.index)});if(l[0].complete)B(l),c.trigger("dp:image-block:imageBlockImmersiveImageLoad",x.index);else{n.empty();var a=(n.height()-104)/2,f=(n.width()-80)/2;b("\x3cimg\x3e").attr("src",I.staticImages.spinner).css({position:"relative",top:a+"px",left:f+"px"}).appendTo(n)}})}}function S(a){f.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?x.type="hero-image":x.type="image";x.index=a.attr("id").split("_")[1];
R(x.type);C.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(x.index,10)+1)+"_"+(w+E))}function L(){f.delegate(".ivThumb","click",function(){var a=b(this);S(a)})}function M(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function T(a){var b=U.top-(a.pageY-u[1])*l;a=M(U.left-(a.pageX-u[0])*l,G.left);b=M(b,G.top);f.find(".fullscreen").css({left:a,top:b})}function Y(){f.delegate("#ivLargeImage","click",function(a){if(J)q();else if(k){f.find(".fullscreen").removeAttr("style");if(k){var b=f.find("#ivLargeImage"),
e=b.find(".fullscreen");y?b.css("cursor","url('"+I.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));J=!0;var p=f.find("#ivLargeImage");G.left=p.width()-e.width();G.top=p.height()-e.height();var p=b.height()/2,c=b.width()/2;u=[b.offset().left+c,b.offset().top+p];U.top=p-e.height()/2;U.left=c-e.width()/2;e.css({position:"relative",left:U.left,top:U.top});l=Math.max(e.height()/b.height(),e.width()/b.width())}T(a);C.postCountMetric("dpcc_iv_largeImageCLick")}});
f.delegate("#ivLargeImage","mousemove",function(a){J&&T(a)})}function ca(){f.find("#ivLargeImage").empty()}function X(c){if(V){f=b("#ivMain");n();x=p.getCurrentItem();fa();e.populateVariationSelection(f.find("#ivVariationSelection"));c=f.find("#ivThumbs");c.find(".ivRow").not(".placeholder").remove();for(var k=w+E,l=0,t=0;l<k;)for(var u=c.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(c),C=0;4>C&&l<k;C++,l++,t++)if(t<w){var q=z[l].thumb,y=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+
l,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":l+1}).appendTo(u);y.find(".ivThumbImage").css("background",'url("'+e.getResizedThumbnailURL(q)+'") center no-repeat')}else t>=w&&t<E+w&&(q=D[l-w].thumb,y=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(l-w),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image",
"data-csa-c-posy":l-w+1}).appendTo(u),y.find(".ivThumbImage").css("background",'url("'+e.getResizedThumbnailURL(q)+'") center no-repeat'));N();V=!1}else fa();c=b("#ivImagesTab").height();f.css("height",c);k=f.find("#ivTitle").outerHeight(!0);l=f.find("#ivVariationSelection").outerHeight(!0);t=f.find("#ivThumbs");u=e.getDimension(t,"margin-top")+e.getDimension(t,"margin-bottom");t.css("height",c-k-l-u);f.find("#ivLargeImage").css("height",c);c=f.find("#ivStage");k=f[0]&&f[0].getBoundingClientRect&&
Math.floor(f[0].getBoundingClientRect().width)||f.width();c.css("width",k-e.getDimension(f,"padding-left")-e.getDimension(f,"padding-right")-f.find("#ivThumbColumn").width()-e.getDimension(c,"margin-left")-e.getDimension(c,"margin-right"));x=p.getCurrentItem();c="hero-image"===x.type?f.find("#ivHeroImage_"+x.index):"image"===x.type?f.find("#ivImage_"+x.index):a.isDefined(z)?f.find("#ivHeroImage_"+x.index):f.find("#ivImage_"+x.index);a.isjQueryObjDefined(c)||(c=f.find("#ivImage_0"));S(c)}var da,I,
p,f,z,D,w,E,x,y=navigator.userAgent.match(/msie|trident/i),V=!0,J=!1,k=!1,G={},U={},l,u,V=!0,N=c.once(function(){L();Y();e.attachImmersiveViewResizeHandler(X);e.attachTabDeselectHandler("ivImagesTab",ca)});return function(a,c,f,k){da=this;I=a;p=c;da.render=function(a,c,f,k,p,l){V=!0;n();0===w+E?e.hideTabHeading("ivImagesTabHeading"):e.unhideTabHeading("ivImagesTabHeading");1===w+E?b("#ivThumbs").hide():b("#ivThumbs").show()};da.update=function(a){};e.attachTabSelectHandler("ivImagesTab",X)}});"use strict";
B.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(c,b,a,C,e,fa,n){function t(){var a=L.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),e=a.find(".a-popover-inner"),a=a.height()-n.getDimension(e,"padding-top")-n.getDimension(e,"padding-bottom");b("#iv-tab-view-container").css("height",a);Y=b("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==
b(this).css("display")}).length;1<Y?(b("#iv-tab-view-container ul.iv-tab-views li").parent().show(),e=b("#iv-tab-view-container ul.iv-tab-views li").parent().height(),a-=e):b("#iv-tab-view-container ul.iv-tab-views li").parent().hide();b("#iv-tab-view-container .iv-tab-content").css("height",a);c.trigger("dp:image-block:immersive-view:resize")}function ka(){c.trigger("dp:image-block:immersive-view:reset")}function ba(p){if(a.isImmersiveViewEnabled(S,L.getCurrentItem().color))if(X){var f=p.$event.originalEvent;
f.acknowledge&&f.acknowledge(p.$currentTarget[0]);e.isEnabled&&fa.logImmersiveViewRequestServed(e);C.postCountMetric("dppc_immersiveViewOpened");a.isDefined(p)&&("button-360-click"===p.action?b("#iv360TabHeading").click():"videoIngressClick"===p.action?(ca=p.clickTimeStamp,b("#ivVideosTabHeading").click()):"showroomIngressClick"===p.action?(ca=p.clickTimeStamp,b("#ivShowroomTabHeading").click()):b("#ivImagesTabHeading").click());f=L.getImmersiveViewModalInstance();if(a.isDefined(f))f.show();else{p=
b("#auiImmersiveViewDiv");var f=Math.min(Math.max(b(q).height()-150,540),1080),n=Math.min(Math.max(b(q).width()-75,990),1980),f=X.create(p,{name:"immersiveView",activate:"onclick",width:n,height:f,popoverLabel:"ImmersiveView",hideHeader:!0});L.setImmersiveViewModalInstance(f);p.click()}T&&(T=!1,da(),c.trigger("dp:image-block:immersive-view:init"))}else q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else C.postCountMetric("immersiveViewNotExistsClickCount")}
var R,S,L,M,T=!0,Y=0,ca,X;B.when("a-modal").execute(function(a){X=a});var da=c.once(function(){c.on("a:popover:afterUpdatePosition:immersiveView",t);c.on("a:popover:afterShow:immersiveView",t);c.on("a:popover:afterHide:immersiveView",ka)}),I=c.once(function(){var a=b("#iv-tab-view-container ul.iv-tab-views li");a.bind("click",function(e){var n=a.filter(".iv-active");n.attr("id")!==b(this).attr("id")&&c.trigger("dp:ivTabs:"+n.find("a").attr("data-iv-tab-view")+":deselect",e);a.removeClass("iv-active");
b(this).addClass("iv-active");b("#iv-tab-view-container .iv-tab-content").hide();n=b(this).find("a").attr("data-iv-tab-view");b("#"+n).show();"ivVideosTab"===n&&(e.clickTimeStamp=ca||e.timeStamp);c.trigger("dp:ivTabs:"+n+":select",e);C.postCountMetric("dppc_"+n);return!1})});return function(b,f,n,t){R=this;S=b;L=f;e.refToModel=L;M=t;R.render=function(a,b,c,e,f,n){C.postCountMetric("dpcc_altThumbs_"+b);T=!0};R.update=function(a){};R.getTitle=function(){};R.getVariationSelectionInfo=function(){};I();
a.isImmersiveViewEnabled(S,L.getCurrentItem().color)||a.addTag("immersiveViewNotAvailable");M.register("imageClick",ba);M.register("button360Click",ba);S.collapsibleThumbnails&&c.declarative("thumb-action",["click"],function(a){a.$declarativeParent.hasClass("overlayRestOfImages")&&ba(a)});a.useTabbedImmersiveView(S)&&(M.register("videoIngressClick",ba),M.register("showroomIngressClick",ba))}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric",
"postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(c,b,a,C,e,fa,n,t){function ka(d){return d.hiRes||d.large||d.main[d.main.length-1]}function ba(){g.find("#ivTitle").click(function(){ia.hide()})}function R(){r=Pa?{type:"360-spin"}:O.getCurrentItem()}function S(){var d=g.find("#ivStage"),a=ia.$container.find(".a-popover-wrapper"),b=a.find(".a-popover-inner"),a=a.height()-t.getDimension(b,"padding-top")-t.getDimension(b,"padding-bottom");g.css("height",a);
var b=g.find("#ivTitle").outerHeight(!0),h=g.find("#ivVariationSelection").outerHeight(!0),c=g.find("#ivMediaSelection").outerHeight(!0),e=g.find("#ivThumbs"),k=t.getDimension(e,"margin-top")+t.getDimension(e,"margin-bottom");e.css("height",a-b-h-c-k);g.find("#ivLargeImage").css("height",a);d.css("width",g.width()-t.getDimension(g,"padding-left")-t.getDimension(g,"padding-right")-g.find("#ivThumbColumn").width()-t.getDimension(d,"margin-left")-t.getDimension(d,"margin-right"))}function L(){g.find("#ivMediaSelect").change(function(){var d=
b(this).val();"all"===d?(g.find("#ivVideoList").hide(),g.find("#ivThumbs").show(),g.find(".ivThumbVideo").show(),"chromeful-video"===r.type&&g.find("#ivVideo_"+r.index).click()):"images"===d?(g.find("#ivVideoList").hide(),g.find("#ivThumbs").show(),g.find(".ivThumbVideo").hide(),"chromeful-video"===r.type&&(0===W&&0===H?g.find("#iv360").click():0===W?g.find("#ivHeroImage_0").click():g.find("#ivImage_0").click())):"videos"===d&&(g.find("#ivVideoList").show(),g.find("#ivThumbs").hide(),"chromeful-video"!==
r.type?g.find("#ivVideoList_0").click():g.find("#ivVideoList_"+r.index).click())})}function M(){var d=g.find("#ivStage").find("#ivLargeImage"),a=d.width(),b=d.height(),h=d.find(".fullscreen");h.removeAttr("style");var c=h.width(),e=h.height();0<h.length&&(h[0].naturalWidth&&(c=h[0].naturalWidth),h[0].naturalHeight&&(e=h[0].naturalHeight));d.css("cursor","auto");var c=0===c?1:c,e=0===e?1:e,k=Math.min(a/c,b/e),l=e*k,f=c*k;1>k?(Qa?d.css("cursor","url('"+m.staticImages.zoomIn+"'), auto"):(d.css("cursor",
"-webkit-zoom-in"),d.css("cursor","-moz-zoom-in"),d.css("cursor","zoom-in")),Aa=!0):Aa=!1;c=Math.min(f,c);e=Math.min(l-20,e);h.css({"margin-top":(b-e)/2,"margin-left":(a-c)/2,height:e,width:c});d.css("visibility","visible");Ba=!1}function T(d){var a=g.find("#ivLargeImage");a.css("visibility","hidden");a.empty();t.animateStageIn(a);a.append(d);M()}function Y(){A&&A.pause();g.find("#ivLarge360").css("display","none");g.find("#ivLargeVideo").css("display","none");g.find("#ivLargeImage").css("display",
"none");z()}function ca(d){Y();g.find("#ivLargeImage").css("display","block");var h;"hero-image"===d?a.isDefined(ga)&&(h=ka(ga[r.index])):a.isDefined(ja)&&(h=ka(ja[r.index]));if(a.isDefined(h)){g.find(".fullscreen").remove();var c=b("\x3cimg\x3e").attr("src",h).addClass("fullscreen"),e=g.find("#ivLargeImage");t.animateStageOut(e,function(){c.load(function(){T(c)});if(c[0].complete)T(c);else{e.empty();var d=(e.height()-104)/2,a=(e.width()-80)/2;b("\x3cimg\x3e").attr("src",m.staticImages.spinner).css({position:"relative",
top:d+"px",left:a+"px"}).appendTo(e)}})}}function X(){var d=parseInt(r.index,10)+1;d>=ea.length||g.find("#ivVideo_"+d).click()}function da(){var d;a.isDefined(ea)&&(d=ea[r.index]);if(a.isDefined(d)){Y();var h=g.find("#ivLargeVideo").css("display","block");A?(A.isDetached()&&A.attach(h[0]),a.loadMediaIntoAiry(A,d,xa,m.tabletWeb),A.show()):(A=a.createAiryInstanceForChromeful(h,d,xa,"ImmersiveView"),xa.enableContinuousPlay&&A.bind("ended",X));A.play({isAsync:!0})}}function I(){R();var d;d="hero-image"===
r.type?g.find("#ivHeroImage_"+r.index):"image"===r.type?g.find("#ivImage_"+r.index):"chromeful-video"===r.type||"chromeless-video"===r.type?g.find("#ivVideo_"+r.index):"360-spin"===r.type?g.find("#iv360"):a.isDefined(ga)?g.find("#ivHeroImage_"+r.index):g.find("#ivImage_"+r.index);a.isjQueryObjDefined(d)||(d=g.find("#ivImage_0"));p(d)}function p(d){g.find(".ivThumb").removeClass("selected");d.addClass("selected");d.hasClass("ivThumbVideo")?(r.type="chromeful-video",r.index=d.attr("id").split("_")[1],
da()):d.hasClass("ivHeroImage")?(r.type="hero-image",r.index=d.attr("id").split("_")[1],ca(r.type)):d.hasClass("iv360Image")?(r.type="360-spin",r.index=0,f()):(r.type="image",r.index=d.attr("id").split("_")[1],ca(r.type))}function f(){Y();g.find("#ivLarge360").css("display","block");y();var d=g.find("#ivLarge360");d.css({opacity:0});setTimeout(function(){d.css({opacity:.4});t.animateStageIn(d)},200);w();e.postCountMetric("dppc_click360");ta=Date.now()}function z(){0<ta&&(D("dppc_duration360",Date.now()-
ta),ta=0)}function D(d,a){q.ue&&q.ue.count(d,a)}function w(){if(0<qa){var d=g.find(".iv360Hint");d.removeClass("iv360HintFaded");d.animate({opacity:1},200)}}function E(d,a){if(qa<d.length){var h=b("\x3cimg /\x3e").css({display:"block",width:6*pa+"px",height:ua+"px"});h.hide();a.append(h);h.get(0).onload=function(){a.closest(document.documentElement).length&&(qa++,1===qa&&(w(),0<ta&&D("dppc_loadTime360",Date.now()-ta)),0<Ha&&D("dppc_perSpriteloadTime360",Date.now()-Ha),g.find("#iv360Spinner").hide(),
h.show(),ya=5*F.imageLocations[Math.floor(za/F.imageLocations[0].length)][za%F.imageLocations[0].length],E(d,a))};h.attr("src",d[qa].replace(/(\._SP)\d+(,)\d+/,"$1"+va+"$2"+wa));Ha=Date.now()}}function x(d){if(a.isDefined(F.spriteWidthSizes)&&0<F.spriteWidthSizes.length){var h=F.spriteWidthSizes,b=h.length,e=h[0],c=h[b-1];if(d<=e)return e;if(d>c)return c;for(e=0;e<b;e++)if(d>h[e]&&d<=h[e+1])return h[e+1]}else return d}function y(){var d=g.find("#ivLarge360");d.children("#image-360-sprites").length||
(d.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),d.css({"margin-left":0,"margin-top":0,width:d.parent().width(),height:d.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),b("\x3cimg\x3e").attr("src",m.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(d),Ia=!0,V())}function V(){if(a.isDefined(F.spriteURLs)&&
a.isDefined(g)&&Ia&&!Ja){var d=g.find("#ivLarge360"),h=b("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});a.isDefined(F.staticImages.hint360)&&b("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",F.staticImages.hint360).appendTo(h);b("\x3cdiv\x3e").css({"text-align":"center"}).text(m.staticStrings.dragToSpin).appendTo(h);h.appendTo(d);var h=F.imageWidth,e=F.imageHeight,c=d.parent().width(),f=d.parent().height(),
r=0,n=0;h/e>c/f?(va=x(c),wa=Math.round(e/h*va),pa=Math.ceil(c),ua=Math.ceil(wa/va*c),n=(f-ua)/2):(wa=x(f),va=Math.round(h/e*wa),ua=Math.ceil(f),pa=Math.ceil(va/wa*f),r=(c-pa)/2);d.css({"margin-left":r,"margin-top":n,width:pa+"px",height:ua+"px",overflow:"hidden",position:"relative"});d.children("#image-360-sprites").css("width",6*pa+"px");E(F.spriteURLs,g.find("#image-360-sprites"),0);h=g.find("#ivLarge360");h.bind("mousedown",U);h.bind("touchstart",J);h.bind("touchmove",k);h.bind("touchend",G);b(document).bind("mousemove",
l);b(document).bind("mouseup",u);a.isDefined(m.staticImages.grab)&&d.css("cursor","url('"+m.staticImages.grab+"'), auto");Ja=!0}}function J(d){Ca=!0;Ka=d.originalEvent.targetTouches[0].clientX}function k(d){Ca&&(N(d.originalEvent.targetTouches[0].clientX-Ka),Ka=d.originalEvent.targetTouches[0].clientX)}function G(d){Ca&&(Ca=!1)}function U(d){Da=!0;La=d.originalEvent.clientX;a.isDefined(m.staticImages.grabbing)&&(d=g.find("#ivLarge360"),d.css("cursor","url('"+m.staticImages.grabbing+"'), auto"),d.parents(".a-declarative").last().css("cursor",
"url('"+m.staticImages.grabbing+"'), auto"));return!1}function l(d){Da&&(N(d.originalEvent.clientX-La),La=d.originalEvent.clientX)}function u(d){Da&&(Da=!1,a.isDefined(m.staticImages.grab)&&(d=g.find("#ivLarge360"),d.css("cursor","url('"+m.staticImages.grab+"'), auto"),d.parents(".a-declarative").last().css("cursor","auto")))}function N(d){for(d=ya-=d/pa*180;0>d;)d+=360;for(;360<d;)d-=360;ya=d;var h;d=360;for(var b=0;b<qa;b++)for(var e=0;e<F.imageLocations[b].length;e++){var c=Math.abs(ya-5*F.imageLocations[b][e]);
c<d&&(d=c,h=b*F.imageLocations[0].length+e)}h!==za&&(d=Math.floor(h/F.imageLocations[0].length),d!==Math.floor(za/F.imageLocations[0].length)&&(a.isDefined(Ma)||(Ma=document.createElement("canvas").getContext("2d")),b=g.find("#image-360-sprites").children(),Ma.drawImage(b[d],0,0)),d=g.find(".iv360Hint").not(".iv360HintFaded"),a.isDefined(d)&&(d.addClass("iv360HintFaded"),d.animate({opacity:0},750)));za=h;d=h%F.imageLocations[0].length*-1*pa;h=-1*Math.floor(h/F.imageLocations[0].length)*ua;b=g.find("#ivLarge360").children("#image-360-sprites");
b.css("-webkit-transform","translate3d("+d+"px, "+h+"px, 0)");b.css("transform","translate3d("+d+"px, "+h+"px, 0)")}function K(){g.delegate(".ivThumb","click",function(){var d=b(this);p(d)});g.delegate(".ivThumbVideoListOuter","click",function(){g.find(".ivThumbVideoListOuter").removeClass("selected");var d=b(this);d.addClass("selected");r.type="chromeful-video";r.index=d.attr("id").split("_")[1];da()})}function Z(){A&&!A.isDetached()&&(xa.volume=A.getVolume(),A.detach(),!document.all||q.atob||document.addEventListener||
(A=null));g.find("#ivLargeImage").empty();z()}function P(d,a){return 0<a?a/2:Math.min(0,Math.max(a,d))}function ha(a){var h=ra.left-(a.pageX-Ea[0])*Fa;c.capabilities.rtl&&(h=ra.left-(b(q).width()-a.pageX-Ea[0])*Fa);a=ra.top-(a.pageY-Ea[1])*Fa;h=P(h,Ga.left);a=P(a,Ga.top);g.find(".fullscreen").css({left:h,top:a})}function na(){g.delegate("#ivLargeImage","click",function(a){if(Ba)M();else if(Aa){g.find(".fullscreen").removeAttr("style");if(Aa){var h=g.find("#ivLargeImage"),b=h.find(".fullscreen");Qa?
h.css("cursor","url('"+m.staticImages.zoomOut+"'), auto"):(h.css("cursor","-webkit-zoom-out"),h.css("cursor","-moz-zoom-out"),h.css("cursor","zoom-out"));Ba=!0;var e=g.find("#ivLargeImage");Ga.left=e.width()-b.width();Ga.top=e.height()-b.height();var e=h.height()/2,c=h.width()/2;Ea=[h.offset().left+c,h.offset().top+e];ra.top=e-b.height()/2;ra.left=c-b.width()/2;b.css({position:"relative",left:ra.left,top:ra.top});Fa=Math.max(b.height()/h.height(),b.width()/h.width())}ha(a)}});g.delegate("#ivLargeImage",
"mousemove",function(a){Ba&&ha(a)})}function la(d){if(a.isImmersiveViewEnabled(m,O.getCurrentItem().color))if(Na){var k=d.$event.originalEvent;k.acknowledge&&k.acknowledge(d.$currentTarget[0]);Pa=a.isDefined(d)&&"button-360-click"===d.action;fa.isEnabled&&n.logImmersiveViewRequestServed(fa);e.postCountMetric("dppc_immersiveViewOpened");if(a.isDefined(ia))ia.show();else{d=b("#auiImmersiveViewDiv");var k=b(q).height()-150,f=b(q).width()-75;ia=Na.create(d,{name:"immersiveView",activate:"onclick",width:f,
height:k,popoverLabel:"ImmersiveView",hideHeader:!0});d.click()}if(Oa){g=b("#ivMain");d=O.getCurrentItem().color;ja=m.colorImages[d];ga=m.heroImage[d];ea=m.useChildVideos?m.colorToVideo[d]:m.videos;Ra=Q()&&m.spin360ColorEnabled[d];F=Q()?m.spin360ColorData[d]:sa;R();ma=H=h=W=0;a.isDefined(ga)&&(H=ga.length);a.isDefined(ja)&&(W=ja.length);a.isDefined(ea)&&(h=ea.length);Ra&&(ma=1);t.populateTitle(g.find("#ivTitle"),45,m);t.populateVariationSelection(g.find("#ivVariationSelection"));d=g.find("#ivMediaSelect");
0===W+ma||0===h?(d.parent().hide(),g.find("#ivThumbs").addClass("noMediaSelection")):(d.empty(),b("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(m.staticStrings.allMedia+" ("+(H+W+ma+h)+")").appendTo(d),b("\x3coption/\x3e").attr("value","images").text(m.staticStrings.images+" ("+(H+W+ma)+")").appendTo(d),b("\x3coption/\x3e").attr("value","videos").text(m.staticStrings.videos+" ("+h+")").appendTo(d),d.parent().show(),d.val("all"));d=g.find("#ivThumbs");d.find(".ivRow").not(".placeholder").remove();
for(var k=H+W+h+ma,l=f=0;f<k;)for(var r=d.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(d),p=0;3>p&&f<k;p++,f++,l++)if(l<H){var v=ga[f].thumb,A=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+f).appendTo(r);A.find(".ivThumbImage").css("background",'url("'+t.getResizedThumbnailURL(v)+'") center no-repeat')}else if(l>=H&&l<W+H)v=ja[f-H].thumb,A=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id",
"ivImage_"+(f-H)).appendTo(r),A.find(".ivThumbImage").css("background",'url("'+t.getResizedThumbnailURL(v)+'") center no-repeat');else if(l>=H+W&&l<W+H+ma)A=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(r),A.find(".ivThumbImage").css("background",'url("'+(a.isDefined(m.staticImages.icon360)?t.getResizedThumbnailURL(m.staticImages.icon360,!0):"")+'") center no-repeat');else if(v=ea[f-W-H-ma],A=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id",
"ivVideo_"+(f-W-H-ma)).appendTo(r),A.find(".ivThumbImage").css("background",'url("'+v.thumbUrl+'") center no-repeat'),a.isDefined(v)){var u={position:"triggerTop"},w=g.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");w.find(".ivVideoPopoverTitle").text(v.title);w.find(".ivVideoPopoverDuration").text(v.durationTimestamp);u.inlineContent=w[0];c.declarative.create(A,"a-tooltip",u)}d=g.find("#ivVideoList");d.find(".ivThumbVideoListOuter").not(".placeholder").remove();
k=d.find(".placeholder");for(f=0;f<h;f++)l=ea[f],r=k.clone().removeClass("placeholder").appendTo(d),r.attr("id","ivVideoList_"+f),r.find(".ivThumbImage").css("background",'url("'+l.thumbUrl+'") center no-repeat'),r.find(".ivThumbTitle").text(l.title),r.find(".ivThumbDuration").text(l.durationTimestamp);g.find("#ivLarge360").empty();qa=0;Ja=Ia=!1;xa=m.airyConfig;Oa=!1;Sa()}}else q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||
0)+1);else e.postCountMetric("immersiveViewNotExistsClickCount")}function oa(h){var b=m.colorToAsin[h],c={},g=500;if(b&&b.asin){c.params={asin:b.asin};var f="360"+b.asin,k=Date.now();c.success=function(b){D("dppc_asyncRequestTime360",Date.now()-k);b&&a.isDefined(b.spin360.spin360Model)?(a.ajaxState(f,"success"),m.spin360ColorData[h]=b.spin360.spin360Model,h===O.getCurrentItem().color&&(F=m.spin360ColorData[h],V())):c.error()};c.error=function(){e.postCountMetric("dppc_asyncFailed360");D("dppc_asyncRequestTime360",
Date.now()-k);g*=2;16E3>=g?setTimeout(function(){k=Date.now();C.load("/gp/product/features/apparel-main-image/360.html",c)},g):a.ajaxState(f,"fail")};a.ajaxState(f)&&"fail"!==a.ajaxState(f)||(C.load("/gp/product/features/apparel-main-image/360.html",c),a.ajaxState(f,"sent"))}}function Q(){return a.isDefined(m.spin360ConfigEnabled)&&m.spin360ConfigEnabled}var aa,m,O,v,ia,g,ga,ja,ea,H,W,h,ma,r,A,xa,F,Ra,pa,ua,wa,va,La,Ka,Pa=!1,Ia=!1,Ja=!1,ya=0,za=0,ta=0,Ha=0,Da=!1,Ca=!1,qa=0,Ma,Qa=navigator.userAgent.match(/msie|trident/i),
Oa=!0,Ba=!1,Aa=!1,Ga={},ra={},Fa,Ea,Na;B.when("a-modal").execute(function(a){Na=a});var Sa=c.once(function(){L();K();na();c.on("a:popover:afterUpdatePosition:immersiveView",S);c.on("a:popover:afterShow:immersiveView",I);c.on("a:popover:afterHide:immersiveView",Z);ba()});return function(h,g,f,k){aa=this;m=h;O=g;fa.refToModel=O;v=k;Q()&&(m.spin360ColorData[m.landingAsinColor]=m.spin360ColorData[m.defaultColor],m.spin360ColorEnabled[m.landingAsinColor]=m.spin360ColorEnabled[m.defaultColor]);a.isDefined(m.staticImages.icon360)&&
b("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",t.addStyleCodeToURL(m.staticImages.icon360,"_FMpng_RI_"));aa.render=function(h,d,b,g,f,k){Oa=!0;Q()&&m.spin360ColorEnabled[h]&&!a.isDefined(m.spin360ColorData[h])&&(m.spin360ColorData[h]={},oa(h));a.isImmersiveViewEnabled(m,O.getCurrentItem().color)&&Q()&&m.spin360ColorEnabled[h]&&(d===m.maxAlts&&(h=g.find(".item.imageThumbnail"),b=g.find(".item.videoThumbnail"),a.isDefined(b)&&1<b.length?b.last().remove():h.last().remove(),
d--),h=g.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),c.declarative.create(h,"button-360-click"),g.append(h),d++,e.postCountMetric("dppc_display360"));return d};aa.update=function(a){};a.isImmersiveViewEnabled(m,O.getCurrentItem().color)||a.addTag("immersiveViewNotAvailable");v.register("imageClick",la);v.register("button360Click",la)}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric",
"imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(c,b,a,C,e,q,n,t,B){function ba(){var a=b("#iv360Tab").height();l.css("height",a);var e=l.find("#ivTitle360").outerHeight(!0),c=l.find("#ivVariationSelection360").outerHeight(!0),g=l.find("#ivThumbs360"),f=n.getDimension(g,"margin-top")+n.getDimension(g,"margin-bottom");g.css("height",a-e-c-f);a=l.find("#ivStage360");e=l[0]&&l[0].getBoundingClientRect&&Math.floor(l[0].getBoundingClientRect().width)||
l.width();a.css("width",e-n.getDimension(l,"padding-left")-n.getDimension(l,"padding-right")-l.find("#ivThumbColumn360").width()-n.getDimension(a,"margin-left")-n.getDimension(a,"margin-right"))}function R(){T();var a=l.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});n.animateStageIn(a)},200);S()}function S(){if(0<g){var a=l.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function L(a,c){if(g<a.length){var f=b("\x3cimg /\x3e").css({display:"block",
width:6*N+"px",height:K+"px"});f.hide();c.append(f);f.get(0).onload=function(){c.closest(document.documentElement).length&&(g++,1===g&&(S(),0<m&&(e.time("dppc_loadTime360",Date.now()-m,k.mediaAsin),q.postTimeMetric("dppc_loadTime360",Date.now()-m))),0<O&&(e.time("dppc_perSpriteloadTime360",Date.now()-O,k.mediaAsin),q.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-O)),l.find("#iv360Spinner").hide(),f.show(),Q=5*u.imageLocations[Math.floor(aa/u.imageLocations[0].length)][aa%u.imageLocations[0].length],
L(a,c))};f.attr("src",a[g].replace(/(\._SP)\d+(,)\d+/,"$1"+P+"$2"+Z));O=Date.now()}}function M(h){if(a.isDefined(u.spriteWidthSizes)&&0<u.spriteWidthSizes.length){var b=u.spriteWidthSizes,e=b.length,c=b[0],g=b[e-1];if(h<=c)return c;if(h>g)return g;for(c=0;c<e;c++)if(h>b[c]&&h<=b[c+1])return b[c+1]}else return h}function T(){var a=l.find("#ivLarge360");a.children("#image-360-sprites").length||(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),
height:a.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),b("\x3cimg\x3e").attr("src",k.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),la=!0,Y())}function Y(){if(a.isDefined(u.spriteURLs)&&a.isDefined(l)&&la&&!oa){var h=l.find("#ivLarge360"),c=b("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",
width:"100%",bottom:0,opacity:0,display:"block"});a.isDefined(u.staticImages.hint360)&&b("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",u.staticImages.hint360).appendTo(c);b("\x3cdiv\x3e").css({"text-align":"center"}).text(k.staticStrings.dragToSpin).appendTo(c);c.appendTo(h);var c=u.imageWidth,e=u.imageHeight,g=h.parent().width(),v=h.parent().height(),m=0,n=0;c/e>g/v?(P=M(g),Z=Math.round(e/c*P),N=Math.ceil(g),K=Math.ceil(Z/P*g),n=(v-K)/2):(Z=M(v),P=Math.round(c/
e*Z),K=Math.ceil(v),N=Math.ceil(P/Z*v),m=(g-N)/2);h.css({"margin-left":m,"margin-top":n,width:N+"px",height:K+"px",overflow:"hidden",position:"relative"});h.children("#image-360-sprites").css("width",6*N+"px");L(u.spriteURLs,l.find("#image-360-sprites"),0);c=l.find("#ivLarge360");c.bind("mousedown",I);c.bind("touchstart",ca);c.bind("touchmove",X);c.bind("touchend",da);b(document).bind("mousemove",p);b(document).bind("mouseup",f);a.isDefined(k.staticImages.grab)&&h.css("cursor","url('"+k.staticImages.grab+
"'), auto");oa=!0}}function ca(a){ia=!0;na=a.originalEvent.targetTouches[0].clientX}function X(a){ia&&(z(a.originalEvent.targetTouches[0].clientX-na),na=a.originalEvent.targetTouches[0].clientX)}function da(a){ia&&(ia=!1)}function I(h){v=!0;ha=h.originalEvent.clientX;a.isDefined(k.staticImages.grabbing)&&(h=l.find("#ivLarge360"),h.css("cursor","url('"+k.staticImages.grabbing+"'), auto"),h.parents(".a-declarative").last().css("cursor","url('"+k.staticImages.grabbing+"'), auto"));return!1}function p(a){v&&
(z(a.originalEvent.clientX-ha),ha=a.originalEvent.clientX)}function f(b){v&&(v=!1,a.isDefined(k.staticImages.grab)&&(b=l.find("#ivLarge360"),b.css("cursor","url('"+k.staticImages.grab+"'), auto"),b.parents(".a-declarative").last().css("cursor","auto")))}function z(b){Q-=b/N*180;ja&&(e.count("dppc_360dragToSpin",k.mediaAsin),q.postCountMetric("dppc_360dragToSpin"));ja=!1;for(b=Q;0>b;)b+=360;for(;360<b;)b-=360;Q=b;var c;b=360;for(var f=0;f<g;f++)for(var v=0;v<u.imageLocations[f].length;v++){var m=Math.abs(Q-
5*u.imageLocations[f][v]);m<b&&(b=m,c=f*u.imageLocations[0].length+v)}c!==aa&&(b=Math.floor(c/u.imageLocations[0].length),b!==Math.floor(aa/u.imageLocations[0].length)&&(a.isDefined(ga)||(ga=document.createElement("canvas").getContext("2d")),f=l.find("#image-360-sprites").children(),ga.drawImage(f[b],0,0)),b=l.find(".iv360Hint").not(".iv360HintFaded"),a.isDefined(b)&&(b.addClass("iv360HintFaded"),b.animate({opacity:0},750)));aa=c;b=c%u.imageLocations[0].length*-1*N;c=-1*Math.floor(c/u.imageLocations[0].length)*
K;f=l.find("#ivLarge360").children("#image-360-sprites");f.css("-webkit-transform","translate3d("+b+"px, "+c+"px, 0)");f.css("transform","translate3d("+b+"px, "+c+"px, 0)")}function D(){if(H){l=b("#ivMain360");var a=G.getCurrentItem().color;E()&&x(a);u=E()?k.spin360ColorData[a]:sa;n.populateTitle(l.find("#ivTitle360"),160,k);n.populateVariationSelection(l.find("#ivVariationSelection360"));l.find("#ivLarge360").empty();g=0;oa=la=!1;aa=Q=0;W();H=!1}0!==b("#iv360Tab").height()&&(n.detachImmersiveViewResizeHandler(D),
ba(),R(),m=Date.now(),ea=ja=!0,e.count("dppc_click360",k.mediaAsin),q.postCountMetric("dppc_click360"))}function w(b,c,g){b=k.colorToAsin[g];var f={},l=500;if(!b||!b.asin)if(g===k.defaultColor)b={asin:k.winningAsin};else return;f.params={asin:b.asin};var v="360"+b.asin,m=Date.now();f.success=function(b){e.time("dppc_asyncRequestTime360",Date.now()-m,k.mediaAsin);q.postTimeMetric("dppc_asyncRequestTime360",Date.now()-m);b&&a.isDefined(b.spin360)?((b=b.spin360.spin360Model)&&t.setData(b),a.ajaxState(v,
"success")):f.error()};f.error=function(){e.count("dppc_asyncFailedTransient360",k.mediaAsin);q.postCountMetric("dppc_asyncFailedTransient360");e.time("dppc_asyncRequestTime360",Date.now()-m,k.mediaAsin);q.postTimeMetric("dppc_asyncRequestTime360",Date.now()-m);l*=2;16E3>=l?setTimeout(function(){m=Date.now();C.load("/gp/product/features/apparel-main-image/360.html",f)},l):(e.count("dppc_asyncFailed360",k.mediaAsin),q.postCountMetric("dppc_asyncFailed360"),a.ajaxState(v,"fail"))};a.ajaxState(v)&&"fail"!==
a.ajaxState(v)||(C.load("/gp/product/features/apparel-main-image/360.html",f),a.ajaxState(v,"sent"))}function E(){return k&&a.isDefined(k.spin360ConfigEnabled)&&k.spin360ConfigEnabled}function x(b){return a.isDefinedAndNotEmpty(k.spin360ColorData[b])?!0:a.isDefined(k.spin360LazyLoadEnabled)&&k.spin360LazyLoadEnabled}function y(){ea&&(e.time("dppc_duration360",Date.now()-m,k.mediaAsin),q.postTimeMetric("dppc_duration360",Date.now()-m),ea=!1)}function V(a){a=k.colorToAsin[a.color]&&k.colorToAsin[a.color].asin;
a||(a=k.mediaAsin);return a}var J,k,G,U,l,u,N,K,Z,P,ha,na,la=!1,oa=!1,Q=0,aa=0,m=0,O=0,v=!1,ia=!1,g=0,ga,ja=!0,ea=!1,H=!0,W=c.once(function(){n.attachImmersiveViewResizeHandler(D);n.attachImmersiveViewResizeHandler(ba);n.attachImmersiveViewResetHandler(y);n.attachTabDeselectHandler("iv360Tab",y)});return function(f,g,l,v){J=this;k=f;G=g;U=v;f=k.landingAsinColor;g=k.defaultColor;a.isDefined(k.staticImages.icon360)&&b("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",n.addStyleCodeToURL(k.staticImages.icon360,
"_FMpng_RI_"));E()&&(k.spin360ColorData||(k.spin360ColorData={}),f===g&&a.isDefinedAndEmpty(k.spin360ColorData[g])&&delete k.spin360ColorData[g]);c.on(B.TWISTER_DATA_EVENT,function(a){V(G.getCurrentItem())===a&&(u=t.getData(a),Y(),a={type:"updatedData",data:G.getCurrentItem()},U.dispatch("updateView",a))});J.render=function(f,g,h,l,v,m){H=!0;!E()||a.isDefinedAndEmpty(k.spin360ColorData[f])&&!t.getData(V(G.getCurrentItem()))?n.hideTabHeading("iv360TabHeading"):(k.spin360ColorData[f]=t.getData(V(G.getCurrentItem())),
a.isDefinedAndNotEmpty(k.spin360ColorData[f])?(b("#ivThumbs360").hide(),n.unhideTabHeading("iv360TabHeading"),a.isImmersiveViewEnabled(k,G.getCurrentItem().color)&&E()&&x(f)&&(g===k.maxAlts&&(f=l.find(".item.imageThumbnail"),g=l.find(".item.videoThumbnail"),a.isDefined(g)&&1<g.length?g.last().remove():f.last().remove()),f=l.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),c.declarative.create(f,"button-360-click"),l.append(f),e.count("dppc_display360",
k.mediaAsin),q.postCountMetric("dppc_display360"))):a.isDefined(k.spin360LazyLoadEnabled)&&k.spin360LazyLoadEnabled?(k.spin360ColorData[f]={},n.hideTabHeading("iv360TabHeading"),w(l,g,f)):n.hideTabHeading("iv360TabHeading"))};J.update=function(a){};n.attachTabSelectHandler("iv360Tab",D)}});B.register("nexusLogger360",function(){return{count:function(c,b){q.ue&&q.ue.event({asin:b,metricName:c,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(c,b,a){q.ue&&q.ue.event({asin:a,metricName:c,
metricValue:b},"hit-360","hit360.clientEvent.3")}}});B.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});B.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(c,b){var a={};return{setData:function(q){var e=q.asin;a[e]||(a[e]=q,c.trigger(b.TWISTER_DATA_EVENT,e))},getData:function(b){return a[b]}}});"use strict";B.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(c){function b(){this.render=function(){};this.update=
function(){}}return function(a,q,e,fa){var n=!1,t=new b;B.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(b){b!==sa&&(n=!0,t=new b(a,q,e,fa))});a&&!0===a.showroomEnabled&&!1===n&&c.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return t}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(c,
b,a,C,e,B,n){function t(){w.delegate(".ivThumb","click",function(){var a=b(this);w.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")&&(E.type="chromeful-video",E.index=a.attr("id").split("_")[1])})}function ka(){if(P){var a=b("#ivVideosTab").height();w.css("height",a);var c=w.find(".vse-lb-container");x=a-e.getDimension(c,"padding-top")-e.getDimension(c,"padding-bottom");c.css({"max-height":a,overflow:"hidden"});if(u){w.css({"max-width":Math.floor(1.77*x)});
return}var a=w.find(".vse-player-container"),c=w.find(".vse-video-action-strip"),f=w.find(".vse-lb-video-metadata"),k=Math.floor(x-e.getDimension(f,"height")-e.getDimension(c,"height")),l=Math.floor(1.77*k);a.css({"max-height":k,"max-width":l,marginLeft:"auto",marginRight:"auto"});f.css({"max-width":l,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":l,marginLeft:"auto",marginRight:"auto"})}N&&(a=w.find(".vse-vertical-scroll"),c=e.getDimension(a,"margin-top")+e.getDimension(a,"margin-bottom"),
a.css("max-height",x-c))}function ba(){R();y&&y.pause();K=!1;U=!0;G=null;Z=!0;P=!1}function R(){K=!1;y&&y.pause()}function S(e){G=e.clickTimeStamp?e.clickTimeStamp:c.now();a.isDefined(D)&&(D.eventTimestamp=G);K=!0;l&&(n.get(c,"#ivVideoBlock",z,m,O),w=b("#ivVideoBlock"),f.getCurrentItem(),E=f.getCurrentItem(),oa(),X());ka();l=!1;T()}function L(a){l&&(w=b("#ivVideoBlock"),f.getCurrentItem(),E=f.getCurrentItem(),oa());K&&T();ka()}function M(a){y=a.player;C.postTimeMetric("vse_ib_desktop_player_initialisation_duration",
c.now()-la);p.imageBlockRenderingStartTime&&C.postTimeMetric("vse_ib_desktop_time_to_player_interactive",c.now()-p.imageBlockRenderingStartTime);P&&(X(),T())}function T(){if(y&&K&&(w.find(".vse-lb-container").animate({opacity:1},200),y.play(D),C.postCountMetric("dpcc_vse_videoBlock_video_played"),U)){var a=q.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,C.postTimeMetric("dpcc_vse_vitff",a),U=!1)}}function Y(){c.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function ca(a){V=
a.popover.$popover;P=!0;X()}function X(){if(P&&Z&&K&&y){V.addClass(c.$(V).find(".vse-lb-container").data("cssClass"));var a=D;ha&&(a=na,ha=!1);c.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:a});ka();Z=!1}}function da(a){document.getElementsByClassName("videoBlockIngress")[0].click();na=a;ha=!0}var I,p,f,z,D,w,E,x,y,V,J,k,G,U=!0,l=!0,u=!1,N=!1,K=!1,Z=!0,P=!1,ha=!1,na,la=0,oa=c.once(function(){t();e.attachImmersiveViewResizeHandler(L);e.attachTabDeselectHandler("ivVideosTab",
R);e.attachImmersiveViewResetHandler(ba)}),Q=function(c,e,g){b("#ivVideoBlockSpinner").addClass("aok-hidden");C.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+e.placement);c=f.getCurrentItem().color;c=a.getVideoHash(c,0,p);y||(y=a.createAiryInstanceForChromeful(b("#ivVideoBlock"),c,p.airyConfig,"ImmersiveView"));u=!0;b("#ivVideoBlock").css({"max-width":1.77*x,margin:"0 auto"});K&&u&&y.play({isAsync:!0})},aa=function(a,c,e){l||n.get(a,"#ivVideoBlock",z,m,O);b("#ivVideoBlockSpinner").addClass("aok-hidden")},
m=function(a,b,c){N=!0;ka()},O=function(a,b,c){C.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+b.pageContext.placement+"_"+b.configuration.type)};return function(b,m,g,n){I=this;p=b;f=m;I.render=function(b,g,m,n,h,q){b=f.getCurrentItem().color;g=a.getVideoHash(b,0,p);!0===q?J=p.mediaAsin:(J=p.colorToAsin[b]&&p.colorToAsin[b].asin,J=a.isDefined(J)?J:p.mediaAsin);k=null!==p.vseVideoDataSourceTreatment&&"T1"===p.vseVideoDataSourceTreatment?"ASIN":"physicalID";l=!0;-1===g?e.hideTabHeading("ivVideosTabHeading"):
(e.unhideTabHeading("ivVideosTabHeading"),z={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:g.marketPlaceID,locale:g.languageCode,product:{contentID:J,contentIDType:"ASIN"},video:{contentID:g.mediaObjectId,contentIDType:k,videoURL:g.url,imageURL:g.slateUrl},requestId:p.dpRequestId,metadata:{ProductTitle:p.title}},D={videoUrl:z.video.videoURL,contentId:z.video.contentID,duration:0,vendorCode:"",eventTimestamp:a.isDefined(G)?G:c.now(),imageUrl:z.video.imageURL,productAsin:z.product.contentID,
index:0},a.isDefinedAndNotEmpty(y)&&(y.destroy(),y=null),la=c.now(),B.get(c,"#ivVideoBlock",z,aa,Q))};I.update=function(a){};e.attachTabSelectHandler("ivVideosTab",S);c.on("vsePlayer-detailpage-imageblock",M);c.on("a:popover:afterShow:immersiveView",ca);c.on("a:popover:beforeHide:immersiveView",Y);c.on("detailpage-imageblock-leave-pip",da)}})});
/* ******** */
(function(b){var f=window.AmazonUIPageJS||window.P,h=f._namespace||f.attributeErrors,a=h?h("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):f;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,f,h){b.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,c){try{var d=a.$,e=d("#featurebullets_feature_div"),k=d("#productOverview_feature_div");if(e&&0<e.length&&(c.postCountMetric("FeatureBulletsRendered.GV"),k&&
0<k.length)){c.postCountMetric("FeatureBulletsRenderedWithPO.GV");var g=d("#featurebullets_feature_div .a-expander-container");g&&0<g.length&&"feature-bullets-expander"===g.data("aExpanderName")&&(c.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(a){c.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(a){c.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(l){b.log("Feature bullets metric logging failed with error: ( "+
l+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";b.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,c,d,e,k){var g=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=d.colorImages,c=0,b;for(b in a)a[b]&&a[b].length&&(c+=a[b].length);a="image_size_bucket:gt"+g[g.length-1];for(b=1;b<g.length;b++)if(c<=g[b]){a="image_size_bucket:"+g[b-1]+"-"+g[b];break}k.postCountMetric(a);e.addTag(a)})();(function(){var a=c.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,f.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=d.lazyLoadExperienceDisabled;e.isDefined(d.lazyLoadExperienceDisabled)&&!a&&(k.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),e.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";b.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});b.register("postEarlyMetric",function(){return null});"use strict";b.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var c=f.ue;if(c){var b=c.count(a)||0;c.count(a,b+1)}}},postTimeMetric:function(a,c){if("undefined"!==typeof a&&"undefined"!==typeof c){var b=f.ue;b&&b.count(a,c)}},emitNexusMetric:function(a){f.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.3",{ssd:!1})},buildNexusMetric:function(a,b,d,e,k,g,f,h){return{eventSource:"IBCarousel",placementContext:h,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:b,videoAsin:d,videoAsinList:"",
groupType:e,pageUrl:k,pageAsin:g,weblabIds:f}}}});b.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,b,d){var e=a.state("desktop-landing-image-data");e&&(e=a.values(e),b=b.getResourceTimeByName("img",e),a.each(b,function(a){a&&(a.responseEnd!=h&&d.postCountMetric("ibDesktopLandingImageDownloadTime",f.parseInt(a.responseEnd)),a.transferSize!=h&&(0===a.transferSize?d.postCountMetric("ibDesktopLandingImageCached",1):(d.postCountMetric("ibDesktopLandingImageSizeInBytes",f.parseInt(a.transferSize)),
d.postCountMetric("ibDesktopLandingImageNotCached",1))))}))})});
/* ******** */
(function(l){var g=window.AmazonUIPageJS||window.P,m=g._namespace||g.attributeErrors,e=m?m("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):g;e.guardFatal?e.guardFatal(l)(e,window):e.execute(function(){l(e,window)})})(function(l,g,m){l.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(e){function f(c){c&&(l.load.js(c),g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",g.parseInt(performance.now())))}function k(c){c&&l.load.css(c)}
var c=e.airyConfig;c===m?l.when("ImageBlockBTF").execute(function(e){c=e.airyConfig;f(c.jsUrl);k(c.cssUrl)}):(f(c.jsUrl),k(c.cssUrl))});"use strict";l.when("A","jQuery").execute(function(e,f){e.on("a:image:load:landingImage",function(){g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});e.loadDynamicImage(f("#landingImage"))});"use strict";l.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(e,f){function k(a,d){var b;
if(d.repositionHeroImage){b=a[1];var c=a[0];if(768>=(g.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))b*=.7,c*=.7;else{var e=((g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,e=Math.max(Math.min(e,1),0);b*=.7+.3*e;c*=.7+.3*e}b=[b,c]}return b}function c(a,d,b){var c;if(b.repositionHeroImage){var e=g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;b=b.heroFocalPoint;if(f.isDefined(b)){c=Math.max((e-
Math.min(1500,a))/2,0);var k=Math.max((e-a)/2,0);c-=k;e=Math.max(Math.min(e,1500),1024);c=c+(e-420-23)/2-a/d[1]*b}}return c}function h(a,d,b){a=a.heroImage;return!(f.isDefined(a)&&f.isDefined(a[d])&&f.isDefined(a[d][b])&&f.isDefined(a[d][b].main))||1>e.map(a[d][b].main,function(a,b){return b}).length?-1:a[d][b]}return{getHeroImageHash:h,getHeroDimParams:function(a,d,b){if(a.repositionHeroImage){if(!f.isDefined(b)){b=h(a,d.color,d.index);if(-1===b)return;d=e.map(b.main,function(a,b){return b})[0];
b=b.main[d]}d=k(b,a);a=c(d[0],b,a);return{height:d[1],width:d[0],xPos:a,yPos:75}}}}});"use strict";l.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(e,f,k){function c(a,d){var b=e.copy(a);if(k.isDefined(a)&&a.length>d){try{for(var c=-1,h=0;h<a.length;h++){var f=a.charAt(h);if(" "===f||"."===f||"?"===f||";"===f||","===f||":"===f)c=h;if(h===d-4){b=a.substring(0,-1===c?h:c);break}}}catch(g){b=a.substring(0,d-3)}b+="..."}return b}function h(a,d){var b=a.lastIndexOf(".");
return a="_"===a.charAt(b-1)?a.substring(0,b-1)+d+a.substring(b):a.substring(0,b)+"."+d+a.substring(b)}return{getDimension:function(a,d){var b=parseInt(a.css(d),10);return isNaN(b)?0:b},attachTabSelectHandler:function(a,d){e.on("dp:ivTabs:"+a+":select",d)},attachTabDeselectHandler:function(a,d){e.on("dp:ivTabs:"+a+":deselect",d)},attachImmersiveViewResizeHandler:function(a){e.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){e.off("dp:image-block:immersive-view:resize",
a)},attachImmersiveViewResetHandler:function(a){e.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(a){f("#"+a).hide()},unhideTabHeading:function(a){f("#"+a).show()},addStyleCodeToURL:h,getResizedThumbnailURL:function(a,d){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";d&&(b+="FMpng_RI_");return h(a,b)},populateVariationSelection:function(a){if(k.isDefined(g.DetailPage)&&
k.isDefined(g.DetailPage.StateController)){a.empty();var d=g.DetailPage.StateController.getState(),b=d.variation_label_order,c;for(c in b)if(b.hasOwnProperty(c)){var e=b[c],h=d.selected_variations[e],e=d.variation_display_labels[e];h&&f("\x3cdiv/\x3e").addClass("ivVariations").text(e+":"+h).appendTo(a)}}},populateTitle:function(a,d,b){a.html(b.title);a.attr("title",a.text());a.html(c(b.title,d))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},
100,c)},logError:function(a,c,b,e){g.ueLogError&&g.ueLogError(e,{logLevel:a,attribution:c,message:b})}}});"use strict";l.when("A").register("ImageBlockLoader",function(e){return{load:function(f,k){k=k||{};k.timeout=k.timeout||4E3;e.ajax(f,k)}}});"use strict";l.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(e,f){l.register("vse_ns_preLoaderHook",function(){function k(c,h){try{var a=c.A,d=c.block,b=c.request,g=c.handleFailure,l=c.handleSuccess,r=a.$;h--;var n=
3-h-1,p=a.now();a.ajax("/vap/ew/componentbuilder",{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(c){var h=a.now()-p;e.postTimeMetric("vse_preLoaderHook:success:",h);e.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+n);r(d).html(c);l(a,b,c)},error:function(d){e.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+n);(0===d.http.status||500<=d.http.status&&599>=
d.http.status)&&0<h?k(c,h):(e.postCountMetric("vse_preLoaderHook:error:",1),g(a,b,d))}})}catch(q){f.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(c,e,a,d,b){k({A:c,block:e,request:a,handleFailure:b,handleSuccess:d},3)}}});l.register("vse_ns_lazyLoaderHook",function(){function k(c,h,a){try{var d=c.A,b=c.context,g=c.handleFailure,l=c.handleSuccess;h.attr("data-configuration");var r=atob(h.attr("data-configuration")),n=JSON.parse(r),p={pageContext:b,configuration:n},
q=d.now();a--;var m=3-a-1;d.ajax("/vap/ew/subcomponent/"+n.type,{params:p,paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var c=d.now()-q;e.postTimeMetric("vse_lazyLoaderHook:success:",c);e.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+":"+n.type+":"+m);h.html(a);l(d,p,a)},error:function(f){e.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+n.type+":"+m);(0===f.http.status||
500<=f.http.status&&599>=f.http.status)&&0<a?k(c,h,a):(e.postCountMetric("vse_lazyLoaderHook:error:",1),g(d,p,f))}})}catch(u){f.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(c,e,a,d,b){var f=c.$;f(e+" div[data-configuration]").each(function(){k({A:c,context:a,handleFailure:b,handleSuccess:d},f(this),3)})}}});l.register("vse_ns_videoPlayer",function(){function k(c,h,a){try{var d=c.A,b=c.block,g=c.request,l=c.handleFailure,m=c.handleSuccess,n=d.$;a--;var p=3-a-
1,q=d.now();d.ajax("/vap/ew/subcomponent/vseplayer",{params:g,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:g.timeout||5E3,withCredentials:!0,success:function(a){var c=d.now()-q;e.postTimeMetric("vse_lightPlayerLoaderHook:success:",c);e.postCountMetric("vse_lightPlayerLoaderHook:success:"+g.page+":"+g.placement+":"+p);n(b).html(a);m(d,g,a)},error:function(b){e.postCountMetric("vse_lightPlayerLoaderHook:error:"+g.page+":"+g.placement+":"+p);(0===b.http.status||
500<=b.http.status&&599>=b.http.status)&&0<a?k(c,a):(e.postCountMetric("vse_lightPlayerLoaderHook:error:",1),l(d,g,b))}})}catch(t){f.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",t)}}return{get:function(c,e,a,d,b){k({A:c,block:e,request:a,handleFailure:b,handleSuccess:d},3)}}})})});
/* ******** */
(function(k){var d=window.AmazonUIPageJS||window.P,p=d._namespace||d.attributeErrors,b=p?p("DetailPageShowroomImageBlockAssets",""):d;b.guardFatal?b.guardFatal(k)(b,window):b.execute(function(){k(b,window)})})(function(k,d,p){k.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(b,f,m,g,e,a){function c(h){h.interaction===p.MOUSE_ENTER&&
h.type===e.SHOWROOM_THUMBNAIL_TYPE&&g.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER)}function d(b,e){var d=new Date;b.interaction=e.type;b.isUserGenerated=!0;if(f.isImageBlockGridViewHoverDelayEnabled()){if("mouseenter"===e.type&&m.isDataValidForAsin(u(b))&&(c(b),q&&clearTimeout(q),q=setTimeout(function(){var a=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,a,r);g.showShowroomMainImage(h);n.usePeekHover||f.selectGivenThumbnail(e.$declarativeParent,
x)},f.getHoveringDelayTimer())),"mouseleave"===e.type&&q&&clearTimeout(q),"click"===e.type){if(m.isDataValidForAsin(u(b))){var l=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,l,r);g.showShowroomMainImage(h)}f.selectGivenThumbnail(e.$declarativeParent,x);f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e)}}else m.isDataValidForAsin(u(b))&&(c(b),l=m.getDataForAsin(u(b)).imageData,g.updateMainImage(h,l,r),g.showShowroomMainImage(h)),n.usePeekHover&&"click"!==e.type||(f.selectGivenThumbnail(e.$declarativeParent,
x),"click"===e.type&&f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-d)}function u(a){a=n.colorToAsin[a.color].asin;a||(a=n.mediaAsin);return a}var k=void 0,n=void 0,l=void 0,r=void 0,x=void 0,h=void 0,y=void 0,q=void 0,v=void 0,p={SWATCH_HOVER:"swatchHover",MOUSE_ENTER:"mouseenter"};return function(c,q,t,z){t=new Date;k=this;n=c;l=q;r=z;b.on(e.TWISTER_DATA_EVENT,function(a){u(l.getCurrentItem())===
a&&(a={type:"updatedData",data:l.getCurrentItem()},r.dispatch("updateView",a))});k.render=function(e,f,c,d,k,q){e=new Date;x=d;h=k.find("#main-showroom-container");h.parent().find("#showroom-canvas-caption");b.$("#main-image-container");try{var w=u(l.getCurrentItem());if(m.isDataValidForAsin(w)){var p=new Date,t=m.getDataForAsin(w);g.refresh(r,t.asin,t.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-p);if(!q){var B=new Date;g.updateMainImage(h,
t.imageData,r);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-B)}var v=new Date;f=g.createThumbnail(n,d,f,t.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-v);var z=new Date;b.$("#ivShowroomTabHeading").removeClass("aok-hidden");a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-z);if(w!==y){var A=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=
a.createShowroomAtfEvent(t.defaultStageId,w,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);y=w;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-A)}}else b.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){b.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,new Date-e);return f};k.update=function(b){var r=new Date;try{var c=b.data;l.setCurrentEvent(b);c.type===e.SHOWROOM_THUMBNAIL_TYPE?
d(c,b):c.type!==e.SHOWROOM_MAIN_IMAGE_TYPE&&(b.type===p.SWATCH_HOVER?c.color===l.getCurrentItem().color&&l.getCurrentItem().type===e.SHOWROOM_THUMBNAIL_TYPE?g.showShowroomMainImage(h):g.hideShowroomMainImage(h):f.isImageBlockGridViewHoverDelayEnabled()?(l.setToPreviousItem(),"mouseenter"===b.type&&(v&&clearTimeout(v),v=setTimeout(function(){l.setToCurrentItem(c);g.hideShowroomMainImage(h)},f.getHoveringDelayTimer())),"mouseleave"===b.type&&v&&clearTimeout(v),"click"===b.type&&(l.setToCurrentItem(c),
g.hideShowroomMainImage(h))):g.hideShowroomMainImage(h))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,new Date-r)};(c=document.getElementById("ivShowroomTabHeading"))&&c.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=m.getDataForAsin(y).defaultStageId;b=a.createShowroomAtfEvent(b,y,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-t)}});
"use strict";k.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_BUTTON_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";k.when("A","jQuery",
"imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(b,f,m,g,e,a){function c(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)}function d(a){a.action="showroomIngressClick";a.data=l;p.dispatch("showroomIngressClick",a)}var k,p,
n,l;return{createThumbnail:function(a,b,c,f){c===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),c--);l={type:"showroomIngress",index:0,thumbnailIndex:c,variant:f.variant};m.createThumbnail({type:e.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:c,variant:f.variant},f.thumb,b,"showroom-imageblock-thumbnail");c++;return c},updateMainImage:function(a,d){var h=a.find("#showroom-main-image");h.length?h.attr("src",d.hiRes):(h=f(('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cimg src\x3d"'+
d.hiRes+'" id\x3d"showroom-main-image"/\x3e                \x3c/div\x3e').trim()),h.appendTo(a),b.declarative.create(a,"showroom-image-action",l),b.declarative("showroom-image-action",["click"],c),h.addClass("image-gradient-hue"),d=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),f(('\x3cdiv id\x3d"showroom-main-image-overlay-container"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+
d+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cspan class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cinput class\x3d"a-button-input"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m.media-amazon.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png"/\x3e'+
h+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/span\x3e                \x3c/div\x3e").trim()).appendTo(a))},hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return f("#showroom-outer-container").hasClass("aok-hidden")},handleShowroomIngressClick:d,handleShowroomThumbnailClick:function(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);
var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)},handleShowroomMainImageClick:c,refresh:function(a,b,c){p=a;k=b;n=c}}});"use strict";k.when("A").register("showroom-image-block-metrics",function(b){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",
SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger",TAB_SELECT:"showroom:atf:tab:select"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",
SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(b){try{if(d.ue&&b){var f=(d.ue.count(b)||0)+1;d.ue.count(b,f)}}catch(g){}},logValue:function(b,
m){try{d.ue&&b&&"number"===typeof m&&d.ue.count(b,m)}catch(g){}},createShowroomAtfEvent:function(f,d,g,e){var a={};a.showroomId=f;a.asin=d;a.eventType=g;a.status=e;a.device=b.capabilities?b.capabilities.isAmazonApp?"AmazonApp":b.capabilities.mobile?"mobile":b.capabilities.tablet?"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(b){try{d.ue&&d.ue.event&&b&&d.ue.event(b,
"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(m){}}}});"use strict";k.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(b,d){function f(){return e[a]}function g(a){return a in e}var e={},a;return{setData:function(c){c&&c.asin&&c.imageDomain&&c.defaultCollageUrl&&c.defaultStageId&&Array.isArray(c.itemMainImagePhysicalIds)&&(a=c.asin,g(c.asin)||(e[c.asin]=c,b.trigger(d.TWISTER_DATA_EVENT,c.asin)))},getDataForCurrentAsin:f,getDataForAsin:function(a){return e[a]},
getStringValue:function(a){return f().displayStrings?f().displayStrings[a]:""},isDataValidForAsin:g}})});
/* ******** */
(function(q){var t=window.AmazonUIPageJS||window.P,u=t._namespace||t.attributeErrors,a=u?u("DetailPagePaymentOptionsJavascript",""):t;a.guardFatal?a.guardFatal(q)(a,window):a.execute(function(){q(a,window)})})(function(q,t,u){"use strict";q.when("A","payment-options-constants").register("payment-options-client-side-metric",function(a,c){function d(){return Date.now().toString(10)+Math.random().toString(16).substring(2,13)}function b(a,d){if("undefined"!==typeof e&&"undefined"!==typeof e.count&&a){var m=
c.metricPrefix+a;e.count(m,(e.count(m)||0)+d);a=c.metricPrefix+a;"undefined"!==typeof t.csa&&(d=t.csa("Events",{producerId:"dp-rpcx"}),m=e.count(a),d("log",{schemaId:"dpRpcx.CSALoggingSchema.5",eventName:a,valueToLog:m},{ent:"all"}))}}function h(a){if(a)this.timerName=a,this.startTime=0;else throw Error("timerName must be non empty string");}function r(a){if(a)this.timerName=a,this.startTime=0;else throw Error("timerName must be non empty string");}var e=t.ue;h.prototype={isStarted:!1,start:function(){this.isStarted=
!0;this.startTime=Date.now()},stop:function(){this.startTime&&b(this.timerName,Date.now()-this.startTime)}};r.prototype={isStarted:!1,start:function(){this.isStarted=!0;this.startTime=Date.now()},stop:function(){this.startTime&&b(this.timerName,Date.now()-this.startTime)}};return{increment:function(a){b(a,1)},incrementWithValue:b,incrementWithValuePriceBlockMessaging:function(a,d){if("undefined"!==typeof e&&"undefined"!==typeof e.count&&a){var m=c.metricPrefixPriceblock+a;e.count(m,(e.count(m)||0)+
d);a=c.metricPrefixPriceblock+a;"undefined"!==typeof t.csa&&(d=t.csa("Events",{producerId:"dp-rpcx"}),m=e.count(a),d("log",{schemaId:"dpRpcx.CSALoggingSchema.5",eventName:a,valueToLog:m},{ent:"all"}))}},logNexusEventForMonthlyPaymentSelection:function(a){if(t.ue&&e.event){var b={};b.requestId=a.data.requestId;b.sessionId=a.data.sessionId;b.marketplaceId=a.data.marketplaceId;b.customerId=a.data.customerId;b.asin=a.data.asin;b.websiteDisplayGroup=a.data.websiteDisplayGroup;b.parentAsin=a.data.parentASIN;
b.buyingOptionType=a.data.buyingOptionType;b.financingId=a.data.optionId;b.ranking=parseInt(a.data.executionInfo.offerRank);b.isRender=!0;b.deviceType=a.data.deviceType;b.isUfoSwatchExpanded=!0;b.isOfferSelected=!0;b.isOfferAddedToCart=!1;b.isOfferUsedWithBuyNow=!1;b.schemaId=c.nexus.schemaId;b.producerId=c.nexus.producerId;b.messageId=d();b.trackingId="undef";b.isPreselection=null;e.event(b,c.nexus.producerId,c.nexus.schemaId,{ssd:!0})}},logNexusEventForSwatchExpansion:function(a){if(t.ue&&e.event){var b=
{};b.requestId=a.data.requestId;b.sessionId=a.data.sessionId;b.marketplaceId=a.data.marketplaceId;b.customerId=a.data.customerId;b.asin=a.data.asin;b.websiteDisplayGroup=a.data.websiteDisplayGroup;b.parentAsin=a.data.parentASIN;b.buyingOptionType=a.data.buyingOptionType;b.financingId="undef";b.ranking=-1;b.isRender=!0;b.deviceType=a.data.deviceType;b.isUfoSwatchExpanded=!0;b.isOfferSelected=!1;b.isOfferAddedToCart=!1;b.isOfferUsedWithBuyNow=!1;b.schemaId=c.nexus.schemaId;b.producerId=c.nexus.producerId;
b.messageId=d();b.trackingId="undef";b.isPreselection=null;e.event(b,c.nexus.producerId,c.nexus.schemaId,{ssd:!0})}},Timer:h,TimerPriceBlockMessaging:r}});"use strict";q.when("A","payment-options-constants","payment-options-expander-actions","payment-options-client-side-metric").register("multi-card-exp-payment-options",function(a,c,d,b){function h(){b.increment("Expander:Auto:Collapse");var c=a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection;
d.collapsePaymentOptions(c);a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1}function r(){if(document.getElementById("payment-options-expander-header")){var b=JSON.parse(a.$("[data-toggle-payment-options-expander]").attr("data-toggle-payment-options-expander"));b.isAutoExpand=!0;b.forceExpand=!0;a.trigger("a:declarative:expand-payment-options-expander",{data:b})}}return function(){var b=a.$(c.selector.multiCardExperimentElement).data(c.selector.multiCardExperimentData);
if(!b||!b.treatment)return{};var d=a.$(c.selector.activeTPlusCards).val();if(!d||!d.length)return{};d=d.split(",");return{expTreatment:b.treatment,isFirstCard:d[0]===c.featureRegistration.featureName,collapseCard:h,autoExpandCard:r}}()});"use strict";q.when("A").register("payment-options-constants",function(a){return{featureRegistration:{featureName:"paymentOptions",featureAttribution:"C/T/I"},nexus:{producerId:"ufo-dev",schemaId:"ufo_dev.DPXAwarenessAndConversion.3"},validators:{itemType:"paymentOfferInfo",
offerTypes:["EQUAL_PAY","ONE_TIME_PAYMENT"],cartTypes:["ADD_TO_CART"],cardTypes:["PLCC"]},parameters:{itemType:"paymentOfferInfo",selectionType:{ADD:"add",DELETE:"delete"},offerTypes:{equalPay:"EQUAL_PAY",oneTimePayment:"ONE_TIME_PAYMENT"},cartTypes:{addToCart:"ADD_TO_CART",buyNow:"BUY_NOW"},cardTypes:{plcc:"PLCC"}},paymentOfferInputElement:{inputType:"hidden",name:"paymentOfferInfo"},imagesToLoad:".payment-options-financing-option-card-image .payment-options-expander-heading-image-container .payment-options-side-sheet-header .payment-options-side-sheet-option-summary .payment-options-side-sheet-comparison-group-container .payment-options-comparison-sheet-comparison-card-option".split(" "),
ajaxStatusText:{timeout:"Request Timeout"},selector:{expanderContainer:".payment-options-container",skeletonLoader:".payment-option-skeleton-loader",twisterPlusFadeIn:"twister-plus-cc-card-fadeIn",paymentOptionExpand:"payment-options-expander-content-expand",skeletonLoaderExpand:"payment-option-skeleton-loader-expand",checkmark:".payment-options-selected-checkmark",subtitle:".payment-options-subtitle",subtitleText:".payment-options-subtitle-text",cardImage:".payment-options-selected-card-image",expanderIcon:".payment-options-expander-icon",
toggleButton:"#payment-options-toggle-button",expanderContent:".payment-options-expander-content",swatch:".payment-options-swatch",oneTimePaymentOption:".payment-options-default-option",financingOptions:".payment-options-financing-option",financingOptionTitle:".payment-options-financing-option-title",swatchOption:".payment-options-option",swatchHeading:".payment-options-option-heading",selectedHeading:"payment-options-selected-heading",selectedOption:"payment-options-selected-option",unavailableOption:"payment-options-unavailable-option",
unselectedHeading:"payment-options-unselected-heading",swatchDetail:".payment-options-option-detail",refreshCCText:"#payment_options_refresh_cc_text",refreshToggle:"#payment_options_refresh_cc_text_container",multiCardExperimentData:"wireless-multi-card",multiCardExperimentElement:"[data-wireless-multi-card]",activeTPlusCards:"#twister-plus-active-cards",sideSheetButton:".payment-option-side-sheet-comparison-button",selectedButton:"payment-option-side-sheet-comparison-button-selected",unselectedButton:"payment-option-side-sheet-comparison-button-unselected",
disabledSwatch:"payment-option-disabled",monthlyPaymentAction:"payment-options-monthly-payment-action",paymentOptionsWeblabs:"#payment-options-weblabs",paymentOptionsWeblabsAttribute:"data-enabled-weblabs",paymentOptionsDefaultPickupBuyingOptionData:"#payment-options-default-buyingOption-pickup",isBuyingOptionOverridePresentAttribute:"data-is-pickup-buying-option-override-present",pickUpBuyingOptionIndex:"data-pickup-buying-option-index",payPlanColumnSelector:".payment-plan-column-selector",paymentDetailColumnSelector:".payment-details-column-selector",
interestColumnSelector:".interest-column-selector",payPlanAplliesSelector:".pay-plan-applies-to-column-selector",cardRewardColumnSelector:".card-reward-column-selector",oneTimePaymentHeadButton:".payment-option-onetimepayment-button",paymentOptionApplicabilityMessageLayout:".payment-option-applicibility-message-layout",paymentOptionApplicabilityMessage:".payment-option-applicibility-message-layout .payment-option-applicibility-message"},comparePlansSelector:{comparePlansSidesheetSelector:"#compare-all-plans-sideSheet",
comparePlansContentSelector:"#compare-all-plans-content",viewModelFailedSelector:"#payment-options-viewmodel-failed",preselectiedOptionSelector:"#payment-options-preselected",paymentOptionsCountSelector:"#compare-all-plans-options-count",firsOfferIdSelector:"#payment-options-first-offer-id",ajaxErrorMessageSelector:".compare-plans-sidesheet-ajax-error",skeletonLoaderClass:".compare-plans-sidesheet-skeleton-loader",comparePlansPaymentOptionSelector:".payment-plan-",comparePlansPaymentOptionWithLearnMoreSelector:".payment-plan-column-",
comparePlansButtonIdSelector:"#monthlyPaymentOption",comparePlansColumnSelector:".payment-option-table-column",comparePlansColumnWithLearnMoreSelector:".payment-option-table-monthly-payments-column",comparePlansButtonSelector:".payment-option-side-sheet-comparison-button"},learnMoreSelector:{learnMoreSidesheetSelector:"#payment-option-learn-more-sideSheet",learnMoreContentSelector:"#payment-options-learn-more-ajax",viewModelFailedSelector:"#payment-options-viewmodel-failed",preselectiedOptionSelector:"#payment-options-preselected",
paymentOptionsCountSelector:"#payment-options-learn-more-options-count",firsOfferIdSelector:"#payment-options-first-offer-id",ajaxErrorMessageSelector:".learn-more-sidesheet-ajax-error",skeletonLoaderClass:".learn-more-sidesheet-skeleton-loader"},ajaxErrorReasons:{timeoutStatus:"Request Timeout"},classes:{hideSwatchMainViewClass:"payment-option-list-item-hidden",paymentOptionsList:".payment-options-list",unavailableCompareAllPlansOption:"payment-options-comparison-sheet-unavailable-option",disabledComparisonPlanButton:"payment-option-comparison-sheet-disabled",
auiDisabledButtonClass:"a-button-disabled",auiEnabledButtonClass:"a-button-normal",popOverHideClass:"popover-hide",popOverShowClass:"popover-show",colLeftRightBorder:"Payment-option-side-sheet-left-right-column-border",colTopBorder:"Payment-option-side-sheet-top-border",colBottomBorder:"Payment-option-side-sheet-bottom-border",cardRewardHideClass:"payment-options-card-reward-hide",normalLeftBorder:"payment-option-column-normal-left-border",normalRightBorder:"payment-option-column-normal-right-border",
selectedPaymentOptionBorder:"payment-option-selected-column-border",normalPaymentOptionBorder:"payment-option-column-normal-border",selectedButtonClass:"payment-option-side-sheet-comparison-button-selected",unselectedButtonClass:"payment-option-side-sheet-comparison-button-unselected",disabledPaymentOptionOrder:"payment-option-disabled-column-order",disabledPaymentOptionClass:"payment-option-disabled-column"},animationTimeoutUnit:200,metricPrefix:"DPX:TwisterPlusCCCard:PaymentOptions:",metricPrefixPriceblock:"DPX:PriceBlockMessaging:PaymentOptions:",
classSelector:".",disabledPaymentOptionSelecter:"titleSupplement",popOverText:"popover"}});"use strict";q.when("A","cc-manager","payment-options-constants","payment-options-expander-state","payment-options-expander-actions","payment-options-client-side-metric","multi-card-exp-payment-options","payment-plan-state").register("payment-options-registration",function(a,c,d,b,h,r,e,k){function l(a){return"string"===typeof a}function m(a){for(var b=a.length-1;0<=b;b--){var c=a.get(b).id;if(c!==u&&!n("#"+
c).parent().parent().parent().hasClass(d.classes.hideSwatchMainViewClass)){n("#"+c).parent().parent().parent().addClass(d.classes.hideSwatchMainViewClass);break}}}function f(){var b;var c=(b=n(d.selector.paymentOptionsDefaultPickupBuyingOptionData))&&"true"===b.attr(d.selector.isBuyingOptionOverridePresentAttribute);b=b&&c?(b=b.attr(d.selector.pickUpBuyingOptionIndex))?b:u:void 0;return"#paymentOption_"+(b?b:a.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0)}function g(a){var b=
a.executionInfo;b.cartType=d.parameters.cartTypes.addToCart;return{itemType:d.parameters.itemType,price:a.price,selectionType:d.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:a.priceAndTermCountDisplayString,interestDisplayString:a.interestDisplayString,interestAmount:a.interestAmount,orderSummaryDisplayString:a.orderSummaryDisplayString,invalidSelectionTitle:a.cardName,isOrderLevel:a.isOrderLevel,bottomSheetFootnoteDisplayString:a.bottomSheetFootnoteDisplayString,termCount:a.termCount,
termType:a.termType,formData:[{inputType:d.paymentOfferInputElement.inputType,inputName:d.paymentOfferInputElement.name,inputValue:b}]}}var n=a.$;e=e.expTreatment;var p="T2"!==e&&"T3"!==e,v=d.featureRegistration.featureName;c.registerFeature(d.featureRegistration,{init:function(b){a.$(f()).removeClass("a-hidden")},validateInputParams:function(a){return a&&a.formData&&1===a.formData.length&&a.itemType===d.validators.itemType&&l(a.priceAndTermCountDisplayString)&&l(a.orderSummaryDisplayString)&&l(a.interestDisplayString)&&
"number"===typeof a.price&&"number"===typeof a.interestAmount&&l(a.bottomSheetFootnoteDisplayString)?!0:!1},cardCollapse:function(){var b=k.paymentOptionSelected.paymentOptionClickedFromSideSheet;p&&!b&&(r.increment("Expander:Auto:Collapse"),b=a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection,h.collapsePaymentOptions(b),a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1)},refreshCard:function(){a.$(d.selector.refreshToggle).removeClass("refresh-toggle");
a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand&&a.$(d.selector.refreshCCText).removeClass("a-hidden")},switchBuyingOption:function(f,e,r,p,k,l){p=l&&-1!==l?l:f;a.$("[id^\x3dpaymentOption_]").addClass("a-hidden");f=a.$(".payment-options-selected-option").closest("[data-action\x3d'payment-options-monthly-payment-action']").data("payment-options-monthly-payment-action");var q;a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander")!==
u&&(e=a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection,f===u&&!0===e&&(q=a.$("[data-payment-options-emp-action]").data("payment-options-emp-action")));var t;f&&(t=f.offerGroup);a.$("#paymentOption_"+p).removeClass("a-hidden");var w=n("#paymentOption_"+p).find("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander");e=n("#paymentOption_"+p+" #oneTimePaymentOptionSwatch");a.$(e).click();a.delay(function(){w.isExpand||n(d.selector.subtitleText).text(w.collapseSubtitle)},
100);r=e=!1;c.ccRemovedSelectionsClear(v);f===u&&q!==u&&(k=a.$("#paymentOption_"+p+" [data-payment-options-emp-action]").data("payment-options-emp-action"),e=k!==u,!0===e&&(n(d.selector.subtitleText).text(k.preselectionSubtitle),b.expanderSubtitle.monthlyPaymentOptionsCollapsedSubtitle=k.preselectionSubtitle,b.expanderSubtitle.monthlyPaymentOptionsExpandedSubtitle=k.preselectionSubtitle),!1===e&&c.ccRemovedSelectionUpdate(v,g(q)));if(t){q=n("#paymentOption_"+p+" .payment-options-financing-option");
p=q.length;e=0<p;for(k=0;k<p;k++){l=q.get(k);var x=a.$(l).closest("[data-action\x3d'payment-options-monthly-payment-action']").data("payment-options-monthly-payment-action"),y=n("#"+l.id).parent().parent().parent(),z=y.hasClass(d.classes.hideSwatchMainViewClass);if(x&&t===x.offerGroup){r=!0;z&&(m(q),y.removeClass(d.classes.hideSwatchMainViewClass));a.$(l).click();var A=a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection}}(!e||e&&!r)&&c.ccRemovedSelectionUpdate(v,
g(f));h.collapsePaymentOptions(A)}}})});"use strict";q.when("A","cc-manager","payment-options-constants","payment-options-registration").register("cc-payment-options",function(a,c,d){function b(a){var b=e("form#buyNowCheckout");if(0<b.length){var c=b.find("input[name\x3d"+d.parameters.itemType+"]");a=a.executionInfo;a.cartType=d.parameters.cartTypes.buyNow;a=JSON.stringify(a);1>c.length?e("\x3cinput\x3e").attr({type:d.paymentOfferInputElement.inputType,name:d.paymentOfferInputElement.name,value:a,
id:"bnMshopPaymentOfferInfo"}).appendTo(b):(b=e("#bnMshopPaymentOfferInfo"),1<c.length?b.detach():b.val(a))}}function h(a){var b=a.executionInfo;b.sessionId=a.sessionId;b.customerId=a.customerId;b.marketplaceId=a.marketplaceId;b.requestId=a.requestId;b.deviceType=a.deviceType;b.asin=a.asin;b.buyingOptionType=a.buyingOptionType;b.parentASIN=a.parentASIN;b.websiteDisplayGroup=a.websiteDisplayGroup}function r(a,b){return{itemType:d.parameters.itemType,price:a.price,selectionType:d.parameters.selectionType.ADD,
enableIA:!1,priceAndTermCountDisplayString:a.priceAndTermCountDisplayString,interestDisplayString:a.interestDisplayString,interestAmount:a.interestAmount,orderSummaryDisplayString:a.orderSummaryDisplayString,isOrderLevel:a.isOrderLevel,bottomSheetFootnoteDisplayString:a.bottomSheetFootnoteDisplayString,termCount:a.termCount,termType:"mo",formData:b}}var e=a.$,k=d.featureRegistration.featureName,l;return{updatePaymentOptionSelection:function(a){if(!a)return!1;c.ccSelectionsClear(k);clearTimeout(l);
e("#bnMshopPaymentOfferInfo").detach();var f=[],g;if(a.hasOwnProperty("executionDetails")&&0!==Object.keys(a.executionDetails).length){var n=a.executionDetails;Object.keys(n).forEach(function(b){if("paymentOfferInfoType"===b){var c=JSON.parse(a.executionDetails.paymentOfferInfoType);c.sessionId=a.sessionId;c.customerId=a.customerId;c.marketplaceId=a.marketplaceId;c.requestId=a.requestId;c.deviceType=a.deviceType;c.asin=a.asin;c.buyingOptionType=a.buyingOptionType;c.parentASIN=a.parentASIN;c.websiteDisplayGroup=
a.websiteDisplayGroup;a.executionDetails.paymentOfferInfoType=JSON.stringify(c);f.push([{inputType:d.paymentOfferInputElement.inputType,inputName:d.paymentOfferInputElement.name,inputValue:JSON.parse(n[b])}])}else f.push([{inputType:d.paymentOfferInputElement.inputType,inputName:b,inputValue:n[b]}])});for(var p=0;p<f.length;p++)if(g=r(a,f[p]),g=c.ccSelectionUpdate(k,g),!g)return!1}else if(a.hasOwnProperty("executionInfo")&&0!==Object.keys(a.executionInfo).length)h(a),f.push([{inputType:d.paymentOfferInputElement.inputType,
inputName:d.paymentOfferInputElement.name,inputValue:a.executionInfo}]),g=r(a,f[0]),g=c.ccSelectionUpdate(k,g);else return!0;b(a);l=setTimeout(function(){b(a)},1E3);return g}}});"use strict";q.when("A","cc-payment-options").register("payment-options-actions",function(a,c){a.declarative("select-payment-option","click",function(a){c.updatePaymentOptionSelection(a.data)})});"use strict";q.when("A","po-sidesheet-ajax-state","payment-plan-state","payment-options-constants","payment-options-state","payment-options-client-side-metric").register("po-compare-plans-actions",
function(a,c,d,b,h,r){function e(){c.resetComparePlansState();g(b.comparePlansSelector.skeletonLoaderClass).addClass("aok-hidden");g(b.comparePlansSelector.ajaxErrorMessageSelector).removeClass("aok-hidden")}function k(a,c){a=g(a);var d=b.comparePlansSelector.viewModelFailedSelector,e=b.comparePlansSelector.preselectiedOptionSelector,h=b.comparePlansSelector.paymentOptionsCountSelector,f=b.comparePlansSelector.firsOfferIdSelector,n=m(),e=e+"-"+n,h=h+"-"+n,f=f+"-"+n;return 0!==a.filter(d+"-"+n).length?
(r.incrementWithValue("Ajax:Inconsistency:ViewModelFailed",1),!0):0!==a.filter(e).length?(r.incrementWithValue("Ajax:Inconsistency:PreselectionPresent",1),!0):a.filter(h).data("paymentPlansCount")!==c.numberOfPaymentOptions?(r.incrementWithValue("Ajax:Inconsistency:OffersCountNotSame",1),!0):a.filter(f).data("firstOfferId")!==c.firstOfferId?(r.incrementWithValue("Ajax:Inconsistency:OfferIdNotSame",1),!0):!1}function l(d){g(b.comparePlansSelector.comparePlansSidesheetSelector).html(c.getComparePlansState("ajaxContent"));
var e=b.comparePlansSelector.comparePlansContentSelector+"-"+m();g(e).removeClass("aok-hidden");a.loadDescendantImagesManually(g(".payment-options-side-sheet-header"));a.loadDescendantImagesManually(g(".payment-options-side-sheet-option-summary"));a.loadDescendantImagesManually(g(".payment-options-side-sheet-comparison-group-container"));a.loadDescendantImagesManually(g(".payment-options-comparison-sheet-comparison-card-option"));f(d)}function m(){return a.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||
0}function f(a){var c=d.paymentOptionSelected.paymentOptionSelectedButtonId,e=d.paymentOptionSelected.paymentOptionDisabledButtonId,h=a.data.selectText;g(n.oneTimePaymentHeadButton).removeClass(n.selectedButton);g(n.oneTimePaymentHeadButton).addClass(n.unselectedButton);g(n.oneTimePaymentHeadButton).text(h);g(b.comparePlansSelector.comparePlansColumnSelector).removeClass(b.classes.selectedPaymentOptionBorder);g(b.comparePlansSelector.comparePlansColumnSelector).addClass(b.classes.normalPaymentOptionBorder);
g(b.comparePlansSelector.comparePlansColumnSelector).removeClass(b.classes.disabledPaymentOptionClass);g(b.comparePlansSelector.comparePlansColumnWithLearnMoreSelector).removeClass(b.classes.disabledPaymentOptionOrder);g(b.comparePlansSelector.comparePlansButtonSelector).removeClass(b.classes.selectedButtonClass);g(b.comparePlansSelector.comparePlansButtonSelector).removeClass(b.classes.auiDisabledButtonClass);g(b.comparePlansSelector.comparePlansButtonSelector).addClass(b.classes.unselectedButtonClass);
g(b.comparePlansSelector.comparePlansButtonSelector).text(h);a=a.data.selectedText;""!==c&&("oneTimePaymentOption"===c?(g(n.oneTimePaymentHeadButton).addClass(n.selectedButton),g(n.oneTimePaymentHeadButton).removeClass(n.unselectedButton),g(n.oneTimePaymentHeadButton).text(a)):(h=b.comparePlansSelector.comparePlansPaymentOptionSelector+c.match(/\d+/g)[0],g(h).addClass(b.classes.selectedPaymentOptionBorder),g(h).removeClass(b.classes.normalPaymentOptionBorder),g("#"+c).addClass(b.classes.selectedButtonClass),
g("#"+c).removeClass(b.classes.unselectedButtonClass),g("#"+c).text(a)));e&&""!==e&&(c=e.match(/\d+/g)[0],g("#"+b.disabledPaymentOptionSelecter+c).text("("+d.paymentOptionSelected.paymentOptionUnAvailableMsg+")"),e=b.comparePlansSelector.comparePlansPaymentOptionSelector+c,a=b.comparePlansSelector.comparePlansPaymentOptionWithLearnMoreSelector+c,g(b.comparePlansSelector.comparePlansButtonIdSelector+c).addClass(b.classes.auiDisabledButtonClass),g(a).addClass(b.classes.disabledPaymentOptionOrder),g(e).addClass(b.classes.disabledPaymentOptionClass),
g("[id\x3d"+b.popOverText+c+"cell]").addClass(b.classes.popOverShowClass),g("[id\x3d"+b.popOverText+c+"cell]").removeClass(b.classes.popOverHideClass))}var g=a.$,n=b.selector;a.on("PageRefresh:ATF",function(){c.resetComparePlansState()});return{loadAjaxContent:function(d){var h=g("#twister-plus-asin").val();if(null===h||""===h)r.incrementWithValue("Ajax:Inconsistency:AsinEmpty",1),e();else if(c.getComparePlansState("isAjaxContentLoaded")&&!c.checkInconsistentState())l(d);else{var f=new r.Timer("Ajax:Loading:Time");
f.start();g(b.comparePlansSelector.skeletonLoaderClass).removeClass("aok-hidden");g(b.comparePlansSelector.ajaxErrorMessageSelector).addClass("aok-hidden");a.ajax("/gp/product/ajax?",{method:"get",timeout:1E4,params:{asin:h,showFeatures:"compareAllPlansSidesheetAjax,paymentOptions",experienceId:"paymentOptionsAjaxExperience"},success:function(a){null===a||/^\s*$/.test(a)?(r.incrementWithValue("Ajax:Inconsistency:EmptyResponse",1),e()):k(a,d.data)?e():(c.setComparePlansState("ajaxContent",a),c.setComparePlansState("isAjaxContentLoaded",
!0),c.setComparePlansState("ajaxContentAsin",h),l(d),f.stop())},error:function(a,c){c===b.ajaxErrorReasons.timeoutStatus?r.incrementWithValue("Ajax:Failure:Timeout",1):r.incrementWithValue("Ajax:Failure",1);e()}})}},renderPreselection:f}});"use strict";q.when("A").register("po-sidesheet-ajax-state",function(a){var c=a.$,d={ajaxContent:"",isAjaxContentLoaded:!1,ajaxContentAsin:""},b={ajaxContent:"",isAjaxContentLoaded:!1,ajaxContentAsin:""};return{getComparePlansState:function(a){return d[a]},setComparePlansState:function(a,
b){d[a]=b},getLearnMoreState:function(a){return b[a]},setLearnMoreState:function(a,c){b[a]=c},checkInconsistentState:function(){if(d.isAjaxContentLoaded&&b.isAjaxContentLoaded){if(d.ajaxContentAsin!==b.ajaxContentAsin)return this.resetComparePlansState(),this.resetLearnMoreState(),!0;var a=c("#twister-plus-asin").val();if(d.ajaxContentAsin!==a)return this.resetComparePlansState(),this.resetLearnMoreState(),!0}return!1},resetComparePlansState:function(){this.setComparePlansState("ajaxContent","");
this.setComparePlansState("isAjaxContentLoaded",!1);this.setComparePlansState("ajaxContentAsin","")},resetLearnMoreState:function(){this.setLearnMoreState("ajaxContent","");this.setLearnMoreState("isAjaxContentLoaded",!1);this.setLearnMoreState("ajaxContentAsin","")}}});"use strict";q.when("A","payment-options-state","po-compare-plans-actions").register("ufo-compare-payment-plans",function(a,c,d){var b=a.$;a.declarative("compare-payment-plans","click",function(b){a.trigger("a:declarative:side-sheet:click",
b);c.getWeblabData().isDesktopComparePlansAjaxEnabled?a.trigger("a:declarative:compare-payment-plans-ajax:click",b):d.renderPreselection(b)});a.declarative("price-block-compare-payment-plans","click",function(b){a.trigger("a:declarative:open-payment-options-side-sheet:click",b);c.getWeblabData().isDesktopComparePlansAjaxEnabled?a.trigger("a:declarative:compare-payment-plans-ajax:click",b):d.renderPreselection(b)});a.declarative("compare-payment-plans-ajax","click",function(a){d.loadAjaxContent(a)});
a.declarative("overflow-sidesheet","click",function(c){var d=b(c.$currentTarget);d!==u&&null!==d&&(b("#"+c.data.paymentOptionSelectButtonId)[0].classList.contains("a-button-disabled")||a.trigger("a:declarative:monthly-payment-option-selection:click",c))})});"use strict";q.when("A","po-sidesheet-ajax-state","payment-options-constants","payment-options-state","payment-options-client-side-metric","payment-plan-state").register("po-learn-more-actions",function(a,c,d,b,h,r){function e(){c.resetLearnMoreState();
p(d.learnMoreSelector.skeletonLoaderClass).addClass("aok-hidden");p(d.learnMoreSelector.ajaxErrorMessageSelector).removeClass("aok-hidden")}function k(a,b){a=p(a);var c=m(),e=d.learnMoreSelector.preselectiedOptionSelector+"-"+c,g=d.learnMoreSelector.paymentOptionsCountSelector+"-"+c,f=d.learnMoreSelector.firsOfferIdSelector+"-"+c;return 0!==a.filter(d.learnMoreSelector.viewModelFailedSelector+"-"+c).length?(h.incrementWithValue("Ajax:Inconsistency:ViewModelFailed",1),!0):0!==a.filter(e).length?(h.incrementWithValue("Ajax:Inconsistency:PreselectionPresent",
1),!0):a.filter(g).data("paymentPlansCount")!==b.numberOfPaymentOptions?(h.incrementWithValue("Ajax:Inconsistency:OffersCountNotSame",1),!0):a.filter(f).data("firstOfferId")!==b.firstOfferId?(h.incrementWithValue("Ajax:Inconsistency:OfferIdNotSame",1),!0):!1}function l(b,e,g){p(d.learnMoreSelector.learnMoreSidesheetSelector).html(c.getLearnMoreState("ajaxContent"));g=d.learnMoreSelector.learnMoreContentSelector+"-"+g;g+=m();p(g).removeClass("aok-hidden");a.loadDescendantImagesManually(p(".payment-options-side-sheet-header"));
a.loadDescendantImagesManually(p(".payment-options-side-sheet-option-summary"));a.loadDescendantImagesManually(p(".payment-options-side-sheet-comparison-group-container"));a.loadDescendantImagesManually(p(".payment-options-comparison-sheet-comparison-card-option"));f(b,e)}function m(){return a.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0}function f(a,b){g(r.paymentOptionSelected.paymentOptionSelectedButtonId,a,b)}function g(a,b,c){n(b);p(function(){p("[id\x3d"+a+"]").removeClass(v.unselectedButton);
p("[id\x3d"+a+"]").addClass(v.selectedButton);p("[id\x3d"+a+"]").children(0).children(0).text(c);p("[id\x3d"+a+"]").text(c)})}function n(a){p(v.sideSheetButton).removeClass(v.selectedButton);p(v.sideSheetButton).addClass(v.unselectedButton);p(v.sideSheetButton).text(a);p(v.oneTimePaymentHeadButton).removeClass(v.selectedButton);p(v.oneTimePaymentHeadButton).addClass(v.unselectedButton);p(v.oneTimePaymentHeadButton).text(a)}var p=a.$,v=d.selector;a.on("PageRefresh:ATF",function(){c.resetLearnMoreState()});
return{loadAjaxContent:function(b){var g=b.data.selectText,f=b.data.selectedText,n=p("#twister-plus-asin").val();null===n||""===n?(h.incrementWithValue("Ajax:Inconsistency:AsinEmpty",1),e()):c.getLearnMoreState("isAjaxContentLoaded")&&!c.checkInconsistentState()?l(g,f,b.data.index):(p(d.learnMoreSelector.skeletonLoaderClass).removeClass("aok-hidden"),p(d.learnMoreSelector.ajaxErrorMessageSelector).addClass("aok-hidden"),a.ajax("/gp/product/ajax?",{method:"get",timeout:1E4,params:{asin:n,showFeatures:"paymentOptionsLearnMoreSidesheetAjax,paymentOptions",
experienceId:"paymentOptionsAjaxExperience"},success:function(a){null===a||/^\s*$/.test(a)?(h.incrementWithValue("Ajax:Inconsistency:EmptyResponse",1),e()):k(a,b.data)?e():(c.setLearnMoreState("ajaxContent",a),c.setLearnMoreState("isAjaxContentLoaded",!0),c.setLearnMoreState("ajaxContentAsin",n),l(g,f,b.data.index))},error:function(a,b){b===d.ajaxErrorReasons.timeoutStatus?h.incrementWithValue("Ajax:Failure:Timeout",1):h.incrementWithValue("Ajax:Failure",1);e()}}))},stopEventPropagation:function(a){a.$event.preventDefault();
a.$event.stopImmediatePropagation()},preRenderSelectedFinancingOption:f}});"use strict";q.when("A","payment-options-state","po-learn-more-actions","payment-options-client-side-metric").register("payment-options-learn-more-events",function(a,c,d,b){a.declarative("payment-options-learn-more","click",function(h){b.increment("SideSheet:Link:Click");d.stopEventPropagation(h);a.trigger("a:declarative:side-sheet:click",h);!h.data.isComparePlansEvent&&c.getWeblabData().isDesktopLearnMoreAjaxEnabled?a.trigger("a:declarative:payment-options-learn-more-ajax:click",
h):d.preRenderSelectedFinancingOption(h.data.selectText,h.data.selectedText)});a.declarative("payment-options-learn-more-ajax","click",function(a){d.loadAjaxContent(a)})});"use strict";q.when("A","payment-options-expander-actions","payment-options-expander-state","payment-options-client-side-metric","multi-card-exp-payment-options").execute(function(a,c,d,b,h){function r(a){if(f===u||null===f||null===a.data.isExpand||a.data.isExpand===u){if(null===a.data.isExpand||a.data.isExpand===u)k("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=
!1,a.data.isExpand=!1;c.initSubtitle(a);g&&c.hideLoaderAnimation(a.data.isExpand)}}function e(a){f=!0;var e=a.data.renderPreselection;d.autoScroll=!a.data.isAutoExpand;e||g?c.expandPaymentOptions(g,e):(n.isStarted||n.start(),c.expandSkeletonLoader(e));b.logNexusEventForSwatchExpansion(a)}var k=a.$,l=h.expTreatment,m=h.isFirstCard&&"T1"===l||"T2"===l||"T3"===l,f,g=d.isLoaded,n=new b.Timer("Desktop:Expander:Loading:UserWaiting:Time"),p=new b.Timer("Desktop:Expander:Loading:Time");p.start();q.when("cc-payment-options").execute(function(){p.stop();
n.isStarted&&n.stop();g=!0;c.hideLoaderAnimation(f);b.incrementWithValue("Container:Swatch:Amount",k(".payment-options-list-item").length)});a.declarative("toggle-payment-options-expander","click",function(d){r(d);f=d.data.isExpand;var g=d.data.renderPreselection;!0===f?(f=!1,b.increment("Desktop:Expander:Click:Collapse"),c.collapsePaymentOptions(g)):!1===f&&e(d);k("[data-toggle-payment-options-expander]").each(function(){k(this).data("toggle-payment-options-expander").isExpand=f});a.trigger("a:declarative:expander-update-visible-payment-options:click",
d)});a.declarative("expand-payment-options-expander",function(a){if(!l||a.data.forceExpand)r(a),e(a),k("[data-toggle-payment-options-expander]").each(function(){k(this).data("toggle-payment-options-expander").isExpand=!0})});m&&h.autoExpandCard()});"use strict";q.when("A","payment-options-expander-state","payment-options-constants","payment-options-client-side-metric","payment-options-swatch-actions","cc-manager").register("payment-options-expander-actions",function(a,c,d,b,h,r){function e(){if(c.autoScroll){var a=
m(f.expanderContainer),b=a.offset().top+a.outerHeight();if(m(t).scrollTop()+m(t).height()<b){var b=a.offset().top,d=m(t).height(),a=a.height(),a=b-(d-a)/2;m("html, body").animate({scrollTop:a},c.animationTimeoutUnit)}}}function k(a,b){a=a?g.monthlyPaymentOptionsExpandedSubtitle:b?g.monthlyPaymentOptionsExpandedSubtitle:g.loadingSubtitle;m(f.subtitleText).text(a);!1===b&&m(f.cardImage).fadeOut(d.animationTimeoutUnit)}function l(a){""!==g.monthlyPaymentOptionsCollapsedSubtitle&&m(f.subtitleText).text(g.monthlyPaymentOptionsCollapsedSubtitle);
!1===a&&m(f.cardImage).fadeIn(d.animationTimeoutUnit)}var m=a.$,f=d.selector,g=c.expanderSubtitle;return{initSubtitle:function(a){var b=a.data.expandSubtitle;g.monthlyPaymentOptionsCollapsedSubtitle=a.data.collapseSubtitle;g.monthlyPaymentOptionsExpandedSubtitle=b},expandPaymentOptions:function(c,g){b.increment("Desktop:Expander:Click:Expand");b.increment("Desktop:Expander:Click:Expand:loading");m(f.expanderContent).addClass(f.paymentOptionExpand);m(f.expanderIcon).addClass("rotate");r.cardExpanded(d.featureRegistration.featureName);
a.delay(function(){m(f.swatch).addClass(f.twisterPlusFadeIn);k(c,g);e()},d.animationTimeoutUnit);a.$(f.refreshToggle).hasClass("refresh-toggle")||a.$(f.refreshCCText).removeClass("a-hidden")},expandSkeletonLoader:function(c){b.increment("Desktop:Expander:Click:Expand");m(f.expanderContent).addClass(f.skeletonLoaderExpand);m(f.expanderIcon).addClass("rotate");a.delay(function(){c||(m(f.skeletonLoader).addClass(f.twisterPlusFadeIn),k(!1,c),e())},d.animationTimeoutUnit)},hideLoaderAnimation:function(b,
c){b&&m(f.skeletonLoader).removeClass(f.twisterPlusFadeIn);a.delay(function(){m(f.skeletonLoader).hide();m(f.swatch).removeClass("invisible");b&&(m(f.subtitleText).text(g.monthlyPaymentOptionsExpandedSubtitle),m(f.expanderContent).addClass(f.paymentOptionExpand),a.delay(function(){m(f.swatch).addClass(f.twisterPlusFadeIn);k(!0,c);e()},d.animationTimeoutUnit))},d.animationTimeoutUnit)},collapsePaymentOptions:function(b){m(f.swatch).removeClass(f.twisterPlusFadeIn);c.isLoaded||b||m(f.skeletonLoader).removeClass(f.twisterPlusFadeIn);
m(f.expanderIcon).removeClass("rotate");a.delay(function(){m(f.expanderContent).removeClass(f.paymentOptionExpand);m(f.expanderContent).removeClass(f.skeletonLoaderExpand);l(b)},d.animationTimeoutUnit);a.$(f.refreshCCText).hasClass("a-hidden")||a.$(f.refreshCCText).addClass("a-hidden")},showSubtitleInCollapsedView:l,showSubtitleInExpandedView:k,scrollToShowCompleteExpander:e}});"use strict";q.when("A","payment-options-state","payment-options-client-side-metric","cc-manager","payment-options-constants",
"payment-options-actions").register("payment-options-auto-expand",function(a,c,d,b,h){var r=!1,e=function(){var e=document.getElementById("payment-options-expander-header"),l=c.getWeblabData().isAutoExpandWeblabInT1||c.getWeblabData().isAutoExpandWeblabInT2;if(e){if(e=l)e=b.getRenderedFeaturesList(),l=e[0]===h.featureRegistration.featureName,e=1===e.length&&l;e&&(e=JSON.parse(a.$("[data-toggle-payment-options-expander]").attr("data-toggle-payment-options-expander")),e.isAutoExpand=!0,a.trigger("a:declarative:expand-payment-options-expander",
{data:e}),d.increment("Expander:AutoExpanded"),r=!0)}};e();a.on("a:pageUpdate",e);return{isAutoExpanded:r}});"use strict";q.when("A").register("payment-options-expander-state",function(a){return{expanderSubtitle:{monthlyPaymentOptionsCollapsedSubtitle:"",monthlyPaymentOptionsExpandedSubtitle:"",loadingSubtitle:"Loading options..."},get isLoaded(){return this.property},set isLoaded(a){this.property=a}}});"use strict";q.when("A","payment-options-swatch-actions","payment-options-client-side-metric",
"multi-card-exp-payment-options").execute(function(a,c,d,b){var h=a.$,r=!b.expTreatment||"T3"===b.expTreatment;a.declarative("payment-options-otp-action","click",function(e){d.increment("Swatch:OneTimePayment:Click");a.trigger("a:declarative:select-payment-option:click",{data:{}});var k=h(e.$currentTarget);k!==u&&null!==k&&(c.updateDefaultOptionSubtitle(e.data.defaultPOSubtitle,e.data.oneTimePaymentPOSubtitle),a.trigger("a:declarative:otp-selection:click",e),r||b.collapseCard())});a.declarative("payment-options-monthly-payment-action",
"click",function(c){var k=h(c.$currentTarget);k!==u&&null!==k&&(a.trigger("a:declarative:monthly-payment-option-selection:click",c),r||b.collapseCard(),d.logNexusEventForMonthlyPaymentSelection(c))});a.declarative("payment-options-overflow","click",function(a){c.manageOverflow(a)});a.declarative("expander-update-visible-payment-options","click",function(a){var b=h(a.$currentTarget);b!==u&&null!==b&&c.resetOverflowDefaultOptions(a)});a.declarative("update-swatch","click",function(a){"oneTimePaymentOption"===
a.data.selectedPaymentOptionId?c.updateSwatchStyle(a.data.selectedPaymentOptionId):(c.updateSwatchStyle(a.data.selectedPaymentOptionId),c.updateFinancingOptionSubtitle(a.data.subtitleMessage,a.data.cardImageUrl))});a.declarative("disable-swatch","click",function(a){c.disableSwatch(a.$currentTarget)});a.declarative("enable-swatch","click",function(a){c.enableSwatch(a.$currentTarget)})});"use strict";q.when("A","payment-options-expander-state","payment-options-constants","payment-plan-state").register("payment-options-swatch-actions",
function(a,c,d,b){function h(a){k(l.swatchOption).removeClass(l.selectedOption);("oneTimePaymentOption"===a?k(l.oneTimePaymentOption):k("#"+a+"Swatch")).addClass(l.selectedOption)}function r(a){a.addClass(m.hideSwatchMainViewClass)}function e(a,c){a.removeClass(m.hideSwatchMainViewClass);h(c);b.paymentOptionSelected.paymentOptionSelectedButtonId=c;b.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0}var k=a.$,l=d.selector,m=d.classes,f=c.expanderSubtitle;return{updateSwatchStyle:h,updateDefaultOptionSubtitle:function(a,
b){f.monthlyPaymentOptionsCollapsedSubtitle=a;f.monthlyPaymentOptionsExpandedSubtitle=b;k(l.subtitleText).text(b);k(l.subtitle).removeClass("a-color-success");k(l.subtitle).addClass("a-color-tertiary");k(l.checkmark).addClass("a-hidden");k(l.cardImage).attr("src","https://images-na.ssl-images-amazon.com/images/G/01/x-locale/common/transparent-pixel._V192234675_.gif")},updateFinancingOptionSubtitle:function(a,b){f.monthlyPaymentOptionsCollapsedSubtitle=a;f.monthlyPaymentOptionsExpandedSubtitle=a;k(l.subtitleText).text(a);
k(l.subtitle).removeClass("a-color-tertiary");k(l.subtitle).addClass("a-color-success");k(l.checkmark).removeClass("a-hidden");k(l.cardImage).attr("src",b)},disableSwatch:function(a){var b=a.find(l.financingOptions);b.removeClass(l.selectedOption);b.addClass(l.unavailableOption);a.addClass(l.disabledSwatch)},enableSwatch:function(a){a.find(l.financingOptions).removeClass(l.unavailableOption);a.removeClass(l.disabledSwatch)},manageOverflow:function(a){b.paymentOptionSelected.paymentOptionUnAvailableMsg=
a.data.unAvailableMsg;var c=k("#"+a.data.paymentOptionSelectButtonId+"Swatch").parent().parent().parent();if(c.hasClass(m.hideSwatchMainViewClass)){for(var d=k(m.paymentOptionsList)[0].children,f="",l=d.length-2;0<=l;l--)if(!k(d[l]).hasClass(m.hideSwatchMainViewClass)){f=k(d[l]);break}r(f);e(c,a.data.paymentOptionSelectButtonId)}else h(a.data.paymentOptionSelectButtonId),b.paymentOptionSelected.paymentOptionSelectedButtonId=a.data.paymentOptionSelectButtonId,b.paymentOptionSelected.paymentOptionClickedFromSideSheet=
!0},hideLastSwatch:r,unhideCorrespondingSwatch:e,resetOverflowDefaultOptions:function(a){if(!(3>=parseInt(a.data.numberOfPaymentOptions))){var b=k(m.paymentOptionsList)[0].children;a="";for(var c=b.length-2;0<=c;c--)if(!k(b[c]).hasClass(m.hideSwatchMainViewClass)){a=k(b[c]);break}b=k(k(k(a.children()[0]).children()[0]).children()[0])[0];b.classList.contains(l.selectedOption)||"3"===b.id.match(/\d+/g)[0]||(r(a),k("#monthlyPaymentOption03Swatch").parent().parent().parent().removeClass(m.hideSwatchMainViewClass))}}}});
"use strict";q.when("A").register("payment-plan-state",function(a){return{paymentOptionSelected:{paymentOptionSelectedButtonId:"oneTimePaymentOption",paymentOptionClickedFromSideSheet:!1,paymentOptionDisabledButtonId:"",paymentOptionDisabledTitleSuppliment:"",paymentOptionUnAvailableMsg:""},get isSelected(){return this.property},set isSelected(a){this.property=a}}});"use strict";q.when("A","payment-plan-state","payment-options-constants","payment-options-client-side-metric").execute(function(a,c,
d,b){var h=a.$;a.declarative("otp-selection","click",function(d){var e=h(d.$currentTarget[0].parentNode);d=d.data.paymentOptionSelectButtonId;"payment-options-list-item"===e[0].parentNode.className?c.paymentOptionSelected.paymentOptionClickedFromSideSheet=!1:(b.increment("SideSheet:OneTimePayment:Click"),c.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0);c.paymentOptionSelected.paymentOptionSelectedButtonId=d;a.trigger("a:declarative:update-swatch:click",{data:{selectedPaymentOptionId:c.paymentOptionSelected.paymentOptionSelectedButtonId}})});
a.declarative("monthly-payment-option-selection","click",function(d){d.data.hasOwnProperty("optionId")&&""!==d.data.optionId&&b.increment("Swatch:Financing:"+d.data.optionId+":Click");b.increment("Swatch:MonthlyPayment:Click");a.trigger("a:declarative:select-payment-option:click",d);var e=h(d.$currentTarget);if(e!==u&&null!==e){var e=d.data.posubtitle,k=d.data.cardImageUrl,l=h(d.$currentTarget[0].parentNode),m=d.data.paymentOptionSelectButtonId;"payment-options-list-item"===l[0].parentNode.className?
c.paymentOptionSelected.paymentOptionClickedFromSideSheet=!1:(d.data.hasOwnProperty("optionId")&&""!==d.data.optionId?b.increment("SideSheet:Financing:"+d.data.optionId+":Click"):b.increment("SideSheet:Financing:"+d.data.executionInfo.offerType+":"+d.data.termType+":"+d.data.termCount+":Click"),c.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0);c.paymentOptionSelected.paymentOptionSelectedButtonId=m;a.trigger("a:declarative:update-swatch:click",{data:{selectedPaymentOptionId:c.paymentOptionSelected.paymentOptionSelectedButtonId,
subtitleMessage:e,cardImageUrl:k}});a.trigger("a:declarative:payment-options-overflow:click",d)}});a.declarative("compare-payment-plans-disable","click",function(a){c.paymentOptionSelected.paymentOptionUnAvailableMsg=a.data.paymentOptionUnAvailableMsg;a=a.data.disabledPaymentOptionId;var b=a.match(/\d+/g)[0],b="#"+d.disabledPaymentOptionSelecter+b;c.paymentOptionSelected.paymentOptionDisabledButtonId=a;c.paymentOptionSelected.paymentOptionDisabledTitleSuppliment=h(b).text()});a.declarative("compare-payment-plans-enable",
"click",function(a){(a=a.data.enablePaymentOptionId)&&""!==a&&(a=a.match(/\d+/g)[0],c.paymentOptionSelected.paymentOptionDisabledButtonId="",h("#"+d.disabledPaymentOptionSelecter+a).text(c.paymentOptionSelected.paymentOptionDisabledTitleSuppliment),c.paymentOptionSelected.paymentOptionDisabledTitleSuppliment="",h("[id\x3d"+d.popOverText+a+"cell]").removeClass(d.classes.popOverShowClass),h("[id\x3d"+d.popOverText+a+"cell]").addClass(d.classes.popOverHideClass))})});"use strict";q.when("A","cc-payment-options",
"payment-options-client-side-metric").execute(function(a,c,d){a.declarative("payment-options-emp-action","change",function(a){c.updatePaymentOptionSelection(a.data)});var b=a.debounce(function(){var b=a.$,c=b("#PaymentOptionsEmpAction");0<c.length&&c.trigger("change");0<b("#monthly-payments-not-applicable").length&&d.increment("Container:Render:Error");0<b(".payment-options-container").length&&d.increment("Container:Render:Success")},100);b();a.on("PageRefresh:ATF",b)});"use strict";q.when("A","payment-options-client-side-metric",
"cc-payment-options","payment-options-constants").execute(function(a,c,d,b){var h=a.$;c=new c.Timer("Expander:Loading:Images:Time");c.start();d=function(){a.loadDescendantImagesManually(h(".payment-options-financing-option-card-image"));a.loadDescendantImagesManually(h(".payment-options-expander-heading-image-container"));a.loadDescendantImagesManually(h(".payment-option-detailed-feature-scroll"));a.loadDescendantImagesManually(h(".payment-options-side-sheet-header"));a.loadDescendantImagesManually(h(".payment-options-side-sheet-option-summary"));
a.loadDescendantImagesManually(h(".payment-options-side-sheet-comparison-group-container"));a.loadDescendantImagesManually(h(".payment-options-comparison-sheet-comparison-card-option"))};d();a.on("a:pageUpdate",d);c.stop()});"use strict";q.when("A","payment-options-swatch-actions","payment-options-constants","payment-options-state","cc-manager").execute(function(a,c,d,b,h){function r(a){var b=a.executionInfo;b.cartType=d.parameters.cartTypes.addToCart;return{itemType:d.parameters.itemType,price:a.price,
selectionType:d.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:a.priceAndTermCountDisplayString,interestDisplayString:a.interestDisplayString,interestAmount:a.interestAmount,orderSummaryDisplayString:a.orderSummaryDisplayString,invalidSelectionTitle:a.cardName,isOrderLevel:!0,bottomSheetFootnoteDisplayString:a.bottomSheetFootnoteDisplayString,termCount:a.termCount,termType:a.termType,maxQuantity:a.maxQuantity,displayQuantityMessage:!0,formData:[{inputType:d.paymentOfferInputElement.inputType,
inputName:d.paymentOfferInputElement.name,inputValue:b}]}}var e=a.$,k=d.selector,l=d.featureRegistration.featureName,m;a.on("a:dropdown:selected:quantity",function(f){var g=e("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0,n=e("#paymentOption_"+g+" .payment-options-list-item"),g=e("#paymentOption_"+g+" #oneTimePaymentOptionSwatch");f=f.value;for(var p=a.$(d.classSelector+k.selectedOption).closest(".payment-options-list-item").find("span.a-declarative").data(k.monthlyPaymentAction),
q=1;q<n.length;q++){var t=n.eq(q).find("span.a-declarative").data(k.monthlyPaymentAction),u=t.maxQuantity;u&&(f>u?(c.disableSwatch(n.eq(q)),u={data:{paymentOptionUnAvailableMsg:t.unAvailableText,numberOfPaymentOptions:t.numberOfPaymentOptions,disabledPaymentOptionId:t.paymentOptionSelectButtonId}},b.getWeblabData().isComparePlansRefactorWeblabInT1?a.trigger("a:declarative:compare-payment-plans-disable:click",u):c.disableOptionInCompareAllPlans(u),p&&t.offerGroup===p.offerGroup&&(e(g).click(),h.ccRemovedSelectionUpdate(l,
r(t)),m=t.offerGroup)):(c.enableSwatch(n.eq(q)),b.getWeblabData().isComparePlansRefactorWeblabInT1?a.trigger("a:declarative:compare-payment-plans-enable:click",{data:{enablePaymentOptionId:t.paymentOptionSelectButtonId}}):c.enableOptionInCompareAllPlans(t.numberOfPaymentOptions),m&&t.offerGroup===m&&(e(".tp-bbm-info-message-quantity-restriction-container").hasClass("tp-bbm-info-message-displayable")&&a.trigger("a:declarative:payment-options-monthly-payment-action:click",{$currentTarget:n.eq(q).find("span.a-declarative"),
data:t}),h.ccRemovedSelectionsClear(l))))}})});"use strict";q.when("A","payment-options-constants").register("payment-options-state",function(a,c){function d(){if(!h||0===Object.keys(h).length){var a=b(c.selector.paymentOptionsWeblabs).attr(c.selector.paymentOptionsWeblabsAttribute);a&&(h=JSON.parse(a))}return h}var b=a.$,h={};a={getWeblabData:d};d();return a})});
/* ******** */
